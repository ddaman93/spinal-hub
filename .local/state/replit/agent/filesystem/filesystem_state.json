{"file_contents":{"client/constants/hooks/useColorScheme.ts":{"content":"export { useColorScheme } from \"react-native\";\n","path":null,"size_bytes":47,"size_tokens":null},"client/components/ThemedView.tsx":{"content":"import { View, type ViewProps } from \"react-native\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\n\nexport type ThemedViewProps = ViewProps & {\n  lightColor?: string;\n  darkColor?: string;\n};\n\nexport function ThemedView({\n  style,\n  lightColor,\n  darkColor,\n  ...otherProps\n}: ThemedViewProps) {\n  const { theme, isDark } = useTheme();\n\n  const backgroundColor =\n    isDark && darkColor\n      ? darkColor\n      : !isDark && lightColor\n        ? lightColor\n        : theme.backgroundRoot;\n\n  return <View style={[{ backgroundColor }, style]} {...otherProps} />;\n}\n","path":null,"size_bytes":563,"size_tokens":null},"client/screens/tools/EmergencyContactsScreen.tsx":{"content":"import React, { useState, useEffect, useCallback } from \"react\";\nimport { View, StyleSheet, FlatList, Pressable, TextInput, Modal, Linking, Platform } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Button } from \"@/components/Button\";\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport { storage, EmergencyContact, generateId } from \"@/lib/storage\";\n\nexport default function EmergencyContactsScreen() {\n  const insets = useSafeAreaInsets();\n  const { theme } = useTheme();\n  const [contacts, setContacts] = useState<EmergencyContact[]>([]);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [relationship, setRelationship] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [isPrimary, setIsPrimary] = useState(false);\n\n  const loadData = useCallback(async () => {\n    const data = await storage.emergencyContacts.getAll();\n    const sorted = (data || []).sort((a, b) => {\n      if (a.isPrimary && !b.isPrimary) return -1;\n      if (!a.isPrimary && b.isPrimary) return 1;\n      return 0;\n    });\n    setContacts(sorted);\n  }, []);\n\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  const handleSave = async () => {\n    const contact: EmergencyContact = {\n      id: generateId(),\n      name,\n      relationship,\n      phone,\n      isPrimary,\n    };\n    await storage.emergencyContacts.add(contact);\n    await loadData();\n    setModalVisible(false);\n    resetForm();\n  };\n\n  const resetForm = () => {\n    setName(\"\");\n    setRelationship(\"\");\n    setPhone(\"\");\n    setIsPrimary(false);\n  };\n\n  const handleDelete = async (id: string) => {\n    await storage.emergencyContacts.delete(id);\n    await loadData();\n  };\n\n  const handleCall = (phoneNumber: string) => {\n    const url = `tel:${phoneNumber}`;\n    Linking.openURL(url).catch(() => {\n      console.log(\"Could not open phone dialer\");\n    });\n  };\n\n  const renderContact = ({ item }: { item: EmergencyContact }) => (\n    <View style={[styles.contactCard, { backgroundColor: theme.backgroundDefault }]}>\n      <View style={styles.contactInfo}>\n        <View style={styles.nameRow}>\n          <ThemedText type=\"h4\">{item.name}</ThemedText>\n          {item.isPrimary ? (\n            <View style={[styles.primaryBadge, { backgroundColor: theme.primary }]}>\n              <ThemedText type=\"small\" style={{ color: \"#FFFFFF\" }}>\n                Primary\n              </ThemedText>\n            </View>\n          ) : null}\n        </View>\n        <ThemedText type=\"body\" style={{ color: theme.textSecondary }}>\n          {item.relationship}\n        </ThemedText>\n        <ThemedText type=\"body\" style={{ color: theme.primary }}>\n          {item.phone}\n        </ThemedText>\n      </View>\n      <View style={styles.contactActions}>\n        <Pressable\n          onPress={() => handleCall(item.phone)}\n          style={[styles.callButton, { backgroundColor: theme.success }]}\n          accessible\n          accessibilityLabel={`Call ${item.name}`}\n          accessibilityRole=\"button\"\n        >\n          <Feather name=\"phone\" size={24} color=\"#FFFFFF\" />\n        </Pressable>\n        <Pressable\n          onPress={() => handleDelete(item.id)}\n          style={[styles.deleteButton, { backgroundColor: theme.error + \"20\" }]}\n          accessible\n          accessibilityLabel={`Delete ${item.name}`}\n          accessibilityRole=\"button\"\n        >\n          <Feather name=\"trash-2\" size={18} color={theme.error} />\n        </Pressable>\n      </View>\n    </View>\n  );\n\n  return (\n    <ThemedView style={styles.container}>\n      <FlatList\n        data={contacts}\n        renderItem={renderContact}\n        keyExtractor={(item) => item.id}\n        contentContainerStyle={[\n          styles.listContent,\n          { paddingBottom: insets.bottom + 100 },\n        ]}\n        ListEmptyComponent={\n          <View style={styles.emptyContainer}>\n            <Feather name=\"users\" size={48} color={theme.textSecondary} />\n            <ThemedText type=\"body\" style={{ textAlign: \"center\", marginTop: Spacing.md }}>\n              No emergency contacts added.{\"\\n\"}Tap below to add your contacts.\n            </ThemedText>\n          </View>\n        }\n      />\n\n      <View style={[styles.fabContainer, { bottom: insets.bottom + Spacing.xl }]}>\n        <Pressable\n          onPress={() => setModalVisible(true)}\n          style={[styles.fab, { backgroundColor: theme.primary }]}\n          accessible\n          accessibilityLabel=\"Add emergency contact\"\n          accessibilityRole=\"button\"\n        >\n          <ThemedText type=\"h3\" style={{ color: \"#FFFFFF\" }}>+</ThemedText>\n        </Pressable>\n      </View>\n\n      <Modal\n        visible={modalVisible}\n        animationType=\"slide\"\n        presentationStyle=\"pageSheet\"\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <View style={[styles.modalContainer, { backgroundColor: theme.backgroundRoot }]}>\n          <View style={styles.modalHeader}>\n            <ThemedText type=\"h3\">Add Contact</ThemedText>\n            <Pressable onPress={() => setModalVisible(false)}>\n              <ThemedText type=\"body\" style={{ color: theme.primary }}>Cancel</ThemedText>\n            </Pressable>\n          </View>\n\n          <KeyboardAwareScrollViewCompat\n            style={styles.modalScroll}\n            contentContainerStyle={styles.modalScrollContent}\n          >\n            <View style={styles.formGroup}>\n              <ThemedText type=\"body\" style={styles.label}>Name</ThemedText>\n              <TextInput\n                value={name}\n                onChangeText={setName}\n                placeholder=\"e.g., John Smith\"\n                placeholderTextColor={theme.textSecondary}\n                style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                accessible\n                accessibilityLabel=\"Contact name\"\n              />\n            </View>\n\n            <View style={styles.formGroup}>\n              <ThemedText type=\"body\" style={styles.label}>Relationship</ThemedText>\n              <TextInput\n                value={relationship}\n                onChangeText={setRelationship}\n                placeholder=\"e.g., Caregiver, Spouse, Doctor\"\n                placeholderTextColor={theme.textSecondary}\n                style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                accessible\n                accessibilityLabel=\"Relationship\"\n              />\n            </View>\n\n            <View style={styles.formGroup}>\n              <ThemedText type=\"body\" style={styles.label}>Phone Number</ThemedText>\n              <TextInput\n                value={phone}\n                onChangeText={setPhone}\n                placeholder=\"e.g., (555) 123-4567\"\n                placeholderTextColor={theme.textSecondary}\n                keyboardType=\"phone-pad\"\n                style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                accessible\n                accessibilityLabel=\"Phone number\"\n              />\n            </View>\n\n            <Pressable\n              onPress={() => setIsPrimary(!isPrimary)}\n              style={styles.checkboxRow}\n              accessible\n              accessibilityLabel=\"Mark as primary contact\"\n              accessibilityRole=\"checkbox\"\n              accessibilityState={{ checked: isPrimary }}\n            >\n              <View\n                style={[\n                  styles.checkbox,\n                  { \n                    backgroundColor: isPrimary ? theme.primary : theme.backgroundDefault,\n                    borderColor: isPrimary ? theme.primary : theme.textSecondary,\n                  },\n                ]}\n              >\n                {isPrimary ? (\n                  <Feather name=\"check\" size={18} color=\"#FFFFFF\" />\n                ) : null}\n              </View>\n              <ThemedText type=\"body\">Mark as primary contact</ThemedText>\n            </Pressable>\n\n            <Button onPress={handleSave} style={styles.saveButton}>\n              Save Contact\n            </Button>\n          </KeyboardAwareScrollViewCompat>\n        </View>\n      </Modal>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  listContent: {\n    paddingTop: Spacing.lg,\n    paddingHorizontal: Spacing.lg,\n    gap: Spacing.md,\n  },\n  contactCard: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.medium,\n    gap: Spacing.md,\n  },\n  contactInfo: {\n    flex: 1,\n    gap: Spacing.xs,\n  },\n  nameRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.sm,\n  },\n  primaryBadge: {\n    paddingVertical: 2,\n    paddingHorizontal: Spacing.sm,\n    borderRadius: BorderRadius.small,\n  },\n  contactActions: {\n    flexDirection: \"row\",\n    gap: Spacing.sm,\n  },\n  callButton: {\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  deleteButton: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  emptyContainer: {\n    paddingTop: Spacing.xxl,\n    alignItems: \"center\",\n  },\n  fabContainer: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    alignItems: \"center\",\n  },\n  fab: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  modalContainer: {\n    flex: 1,\n    paddingTop: Spacing.xxl,\n  },\n  modalHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.xl,\n    marginBottom: Spacing.lg,\n  },\n  modalScroll: {\n    flex: 1,\n  },\n  modalScrollContent: {\n    paddingHorizontal: Spacing.xl,\n    paddingBottom: Spacing.xxl,\n  },\n  formGroup: {\n    marginBottom: Spacing.lg,\n  },\n  label: {\n    marginBottom: Spacing.sm,\n  },\n  input: {\n    height: 56,\n    borderRadius: BorderRadius.medium,\n    paddingHorizontal: Spacing.md,\n    fontSize: 18,\n  },\n  checkboxRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.md,\n    marginBottom: Spacing.xl,\n    minHeight: 48,\n  },\n  checkbox: {\n    width: 32,\n    height: 32,\n    borderRadius: 8,\n    borderWidth: 2,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  saveButton: {\n    marginTop: Spacing.lg,\n  },\n});\n","path":null,"size_bytes":10693,"size_tokens":null},"client/config/categories.ts":{"content":"","path":null,"size_bytes":0,"size_tokens":null},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\")\n    .primaryKey()\n    .default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n","path":null,"size_bytes":594,"size_tokens":null},"eslint.config.js":{"content":"// https://docs.expo.dev/guides/using-eslint/\nconst { defineConfig } = require(\"eslint/config\");\nconst expoConfig = require(\"eslint-config-expo/flat\");\nconst eslintPluginPrettierRecommended = require(\"eslint-plugin-prettier/recommended\");\n\nmodule.exports = defineConfig([\n  expoConfig,\n  eslintPluginPrettierRecommended,\n  {\n    ignores: [\"dist/*\"],\n  },\n]);\n","path":null,"size_bytes":359,"size_tokens":null},"client/screens/tools/RoutineScreen.tsx":{"content":"import React, { useState, useEffect, useCallback } from \"react\";\nimport { View, StyleSheet, FlatList, Pressable } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { RouteProp, useRoute } from \"@react-navigation/native\";\n\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport { storage, RoutineTask, formatDate } from \"@/lib/storage\";\nimport { MainStackParamList } from \"@/types/navigation\";\n\ntype RoutineType = \"morning\" | \"evening\";\n\nexport default function RoutineScreen({ routineType }: { routineType: RoutineType }) {\n  const insets = useSafeAreaInsets();\n  const { theme } = useTheme();\n  const [tasks, setTasks] = useState<RoutineTask[]>([]);\n  const [completedTaskIds, setCompletedTaskIds] = useState<Set<string>>(new Set());\n\n  const today = formatDate(new Date());\n\n  const loadData = useCallback(async () => {\n    await storage.routineTasks.initialize();\n    const allTasks = await storage.routineTasks.getAll();\n    const filteredTasks = (allTasks || [])\n      .filter((t) => t.category === routineType)\n      .sort((a, b) => a.order - b.order);\n    setTasks(filteredTasks);\n\n    const completions = await storage.routineCompletions.getByDate(today);\n    setCompletedTaskIds(new Set(completions.map((c) => c.taskId)));\n  }, [routineType, today]);\n\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  const handleToggleTask = async (taskId: string) => {\n    const isNowCompleted = await storage.routineCompletions.toggle(taskId, today);\n    setCompletedTaskIds((prev) => {\n      const next = new Set(prev);\n      if (isNowCompleted) {\n        next.add(taskId);\n      } else {\n        next.delete(taskId);\n      }\n      return next;\n    });\n  };\n\n  const completedCount = tasks.filter((t) => completedTaskIds.has(t.id)).length;\n  const progress = tasks.length > 0 ? (completedCount / tasks.length) * 100 : 0;\n\n  const renderTask = ({ item }: { item: RoutineTask }) => {\n    const isCompleted = completedTaskIds.has(item.id);\n    return (\n      <Pressable\n        onPress={() => handleToggleTask(item.id)}\n        style={[\n          styles.taskCard,\n          { backgroundColor: isCompleted ? theme.success : theme.backgroundDefault },\n        ]}\n        accessible\n        accessibilityLabel={`${item.name}, ${isCompleted ? \"completed\" : \"not completed\"}`}\n        accessibilityRole=\"checkbox\"\n        accessibilityState={{ checked: isCompleted }}\n      >\n        <Feather\n          name={isCompleted ? \"check-circle\" : \"circle\"}\n          size={28}\n          color={isCompleted ? \"#FFFFFF\" : theme.textSecondary}\n        />\n        <ThemedText\n          type=\"body\"\n          style={[\n            styles.taskText,\n            { color: isCompleted ? \"#FFFFFF\" : theme.text },\n            isCompleted && styles.completedText,\n          ]}\n        >\n          {item.name}\n        </ThemedText>\n      </Pressable>\n    );\n  };\n\n  return (\n    <ThemedView style={styles.container}>\n      <View style={styles.progressSection}>\n        <View style={styles.progressHeader}>\n          <ThemedText type=\"h3\">\n            {routineType === \"morning\" ? \"Morning\" : \"Evening\"} Routine\n          </ThemedText>\n          <ThemedText type=\"h4\" style={{ color: theme.primary }}>\n            {completedCount} / {tasks.length}\n          </ThemedText>\n        </View>\n\n        <View style={[styles.progressBar, { backgroundColor: theme.backgroundDefault }]}>\n          <View\n            style={[\n              styles.progressFill,\n              {\n                width: `${progress}%`,\n                backgroundColor: progress >= 100 ? theme.success : theme.primary,\n              },\n            ]}\n          />\n        </View>\n\n        {progress >= 100 ? (\n          <ThemedText type=\"body\" style={{ color: theme.success, textAlign: \"center\" }}>\n            All tasks completed!\n          </ThemedText>\n        ) : null}\n      </View>\n\n      <FlatList\n        data={tasks}\n        renderItem={renderTask}\n        keyExtractor={(item) => item.id}\n        contentContainerStyle={[\n          styles.listContent,\n          { paddingBottom: insets.bottom + Spacing.xl },\n        ]}\n        ListEmptyComponent={\n          <View style={styles.emptyContainer}>\n            <ThemedText type=\"body\" style={{ color: theme.textSecondary }}>\n              No routine tasks set up yet.\n            </ThemedText>\n          </View>\n        }\n      />\n    </ThemedView>\n  );\n}\n\nexport function MorningRoutineScreen() {\n  return <RoutineScreen routineType=\"morning\" />;\n}\n\nexport function EveningRoutineScreen() {\n  return <RoutineScreen routineType=\"evening\" />;\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  progressSection: {\n    padding: Spacing.lg,\n    gap: Spacing.md,\n  },\n  progressHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  progressBar: {\n    height: 16,\n    borderRadius: 8,\n    overflow: \"hidden\",\n  },\n  progressFill: {\n    height: \"100%\",\n    borderRadius: 8,\n  },\n  listContent: {\n    paddingHorizontal: Spacing.lg,\n    gap: Spacing.md,\n  },\n  taskCard: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.md,\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.medium,\n    minHeight: 80,\n  },\n  taskText: {\n    flex: 1,\n  },\n  completedText: {\n    textDecorationLine: \"line-through\",\n  },\n  emptyContainer: {\n    paddingTop: Spacing.xxl,\n    alignItems: \"center\",\n  },\n});\n","path":null,"size_bytes":5636,"size_tokens":null},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"node:http\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // put application routes here\n  // prefix all routes with /api\n\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n","path":null,"size_bytes":297,"size_tokens":null},"client/screens/tools/VitalsLogScreen.tsx":{"content":"import React, { useState, useEffect, useCallback } from \"react\";\nimport { View, StyleSheet, FlatList, Pressable, TextInput, Modal } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Button } from \"@/components/Button\";\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport { storage, VitalEntry, generateId, formatDate, formatTime } from \"@/lib/storage\";\n\nconst VITAL_TYPES = [\n  { key: \"blood_pressure\", label: \"Blood Pressure\", unit: \"mmHg\" },\n  { key: \"heart_rate\", label: \"Heart Rate\", unit: \"bpm\" },\n  { key: \"temperature\", label: \"Temperature\", unit: \"Â°F\" },\n  { key: \"oxygen\", label: \"Oxygen Saturation\", unit: \"%\" },\n  { key: \"weight\", label: \"Weight\", unit: \"lbs\" },\n] as const;\n\nexport default function VitalsLogScreen() {\n  const insets = useSafeAreaInsets();\n  const { theme } = useTheme();\n  const [entries, setEntries] = useState<VitalEntry[]>([]);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [selectedType, setSelectedType] = useState<typeof VITAL_TYPES[number][\"key\"]>(\"blood_pressure\");\n  const [value, setValue] = useState(\"\");\n  const [systolic, setSystolic] = useState(\"\");\n  const [diastolic, setDiastolic] = useState(\"\");\n  const [notes, setNotes] = useState(\"\");\n\n  const loadEntries = useCallback(async () => {\n    const data = await storage.vitals.getAll();\n    setEntries(data || []);\n  }, []);\n\n  useEffect(() => {\n    loadEntries();\n  }, [loadEntries]);\n\n  const handleSave = async () => {\n    const entry: VitalEntry = {\n      id: generateId(),\n      type: selectedType,\n      value: selectedType === \"blood_pressure\" ? `${systolic}/${diastolic}` : value,\n      systolic: selectedType === \"blood_pressure\" ? parseInt(systolic) : undefined,\n      diastolic: selectedType === \"blood_pressure\" ? parseInt(diastolic) : undefined,\n      timestamp: new Date().toISOString(),\n      notes: notes || undefined,\n    };\n    await storage.vitals.add(entry);\n    await loadEntries();\n    setModalVisible(false);\n    resetForm();\n  };\n\n  const resetForm = () => {\n    setValue(\"\");\n    setSystolic(\"\");\n    setDiastolic(\"\");\n    setNotes(\"\");\n  };\n\n  const handleDelete = async (id: string) => {\n    await storage.vitals.delete(id);\n    await loadEntries();\n  };\n\n  const getTypeLabel = (type: string) => {\n    return VITAL_TYPES.find((t) => t.key === type)?.label || type;\n  };\n\n  const getTypeUnit = (type: string) => {\n    return VITAL_TYPES.find((t) => t.key === type)?.unit || \"\";\n  };\n\n  const renderEntry = ({ item }: { item: VitalEntry }) => {\n    const date = new Date(item.timestamp);\n    return (\n      <View style={[styles.entryCard, { backgroundColor: theme.backgroundDefault }]}>\n        <View style={styles.entryContent}>\n          <View style={styles.entryHeader}>\n            <ThemedText type=\"h4\">{getTypeLabel(item.type)}</ThemedText>\n            <ThemedText type=\"body\" style={{ color: theme.primary }}>\n              {item.value} {getTypeUnit(item.type)}\n            </ThemedText>\n          </View>\n          <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n            {formatDate(date)} at {formatTime(date)}\n          </ThemedText>\n          {item.notes ? (\n            <ThemedText type=\"small\" style={[styles.notes, { color: theme.textSecondary }]}>\n              {item.notes}\n            </ThemedText>\n          ) : null}\n        </View>\n        <Pressable\n          onPress={() => handleDelete(item.id)}\n          style={[styles.deleteButton, { backgroundColor: theme.error + \"20\" }]}\n          accessible\n          accessibilityLabel={`Delete ${getTypeLabel(item.type)} entry`}\n          accessibilityRole=\"button\"\n        >\n          <Feather name=\"trash-2\" size={20} color={theme.error} />\n        </Pressable>\n      </View>\n    );\n  };\n\n  return (\n    <ThemedView style={styles.container}>\n      <FlatList\n        data={entries}\n        renderItem={renderEntry}\n        keyExtractor={(item) => item.id}\n        contentContainerStyle={[\n          styles.listContent,\n          { paddingBottom: insets.bottom + 100 },\n        ]}\n        ListEmptyComponent={\n          <View style={styles.emptyContainer}>\n            <ThemedText type=\"body\" style={{ textAlign: \"center\" }}>\n              No vital signs recorded yet.{\"\\n\"}Tap the button below to add your first entry.\n            </ThemedText>\n          </View>\n        }\n      />\n\n      <View style={[styles.fabContainer, { bottom: insets.bottom + Spacing.xl }]}>\n        <Pressable\n          onPress={() => setModalVisible(true)}\n          style={[styles.fab, { backgroundColor: theme.primary }]}\n          accessible\n          accessibilityLabel=\"Add vital sign reading\"\n          accessibilityRole=\"button\"\n        >\n          <ThemedText type=\"h3\" style={{ color: \"#FFFFFF\" }}>+</ThemedText>\n        </Pressable>\n      </View>\n\n      <Modal\n        visible={modalVisible}\n        animationType=\"slide\"\n        presentationStyle=\"pageSheet\"\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <View style={[styles.modalContainer, { backgroundColor: theme.backgroundRoot }]}>\n          <View style={styles.modalHeader}>\n            <ThemedText type=\"h3\">Log Vital Sign</ThemedText>\n            <Pressable onPress={() => setModalVisible(false)}>\n              <ThemedText type=\"body\" style={{ color: theme.primary }}>Cancel</ThemedText>\n            </Pressable>\n          </View>\n\n          <KeyboardAwareScrollViewCompat\n            style={styles.modalScroll}\n            contentContainerStyle={styles.modalScrollContent}\n          >\n            <View style={styles.typeSelector}>\n              {VITAL_TYPES.map((type) => (\n                <Pressable\n                  key={type.key}\n                  onPress={() => setSelectedType(type.key)}\n                  style={[\n                    styles.typeButton,\n                    { \n                      backgroundColor: selectedType === type.key ? theme.primary : theme.backgroundDefault,\n                    },\n                  ]}\n                  accessible\n                  accessibilityLabel={type.label}\n                  accessibilityState={{ selected: selectedType === type.key }}\n                >\n                  <ThemedText\n                    type=\"body\"\n                    style={{ color: selectedType === type.key ? \"#FFFFFF\" : theme.text }}\n                  >\n                    {type.label}\n                  </ThemedText>\n                </Pressable>\n              ))}\n            </View>\n\n            {selectedType === \"blood_pressure\" ? (\n              <View style={styles.bpInputs}>\n                <View style={styles.bpInputContainer}>\n                  <ThemedText type=\"small\">Systolic</ThemedText>\n                  <TextInput\n                    value={systolic}\n                    onChangeText={setSystolic}\n                    keyboardType=\"numeric\"\n                    placeholder=\"120\"\n                    placeholderTextColor={theme.textSecondary}\n                    style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                    accessible\n                    accessibilityLabel=\"Systolic blood pressure\"\n                  />\n                </View>\n                <ThemedText type=\"h3\" style={styles.bpSlash}>/</ThemedText>\n                <View style={styles.bpInputContainer}>\n                  <ThemedText type=\"small\">Diastolic</ThemedText>\n                  <TextInput\n                    value={diastolic}\n                    onChangeText={setDiastolic}\n                    keyboardType=\"numeric\"\n                    placeholder=\"80\"\n                    placeholderTextColor={theme.textSecondary}\n                    style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                    accessible\n                    accessibilityLabel=\"Diastolic blood pressure\"\n                  />\n                </View>\n              </View>\n            ) : (\n              <TextInput\n                value={value}\n                onChangeText={setValue}\n                keyboardType=\"numeric\"\n                placeholder={`Enter ${getTypeLabel(selectedType)}`}\n                placeholderTextColor={theme.textSecondary}\n                style={[styles.input, styles.fullInput, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                accessible\n                accessibilityLabel={`${getTypeLabel(selectedType)} value`}\n              />\n            )}\n\n            <TextInput\n              value={notes}\n              onChangeText={setNotes}\n              placeholder=\"Notes (optional)\"\n              placeholderTextColor={theme.textSecondary}\n              multiline\n              style={[styles.input, styles.notesInput, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n              accessible\n              accessibilityLabel=\"Notes\"\n            />\n\n            <Button onPress={handleSave} style={styles.saveButton}>\n              Save Entry\n            </Button>\n          </KeyboardAwareScrollViewCompat>\n        </View>\n      </Modal>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  listContent: {\n    paddingTop: Spacing.lg,\n    paddingHorizontal: Spacing.lg,\n    gap: Spacing.md,\n  },\n  entryCard: {\n    flexDirection: \"row\",\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.medium,\n    gap: Spacing.md,\n    alignItems: \"center\",\n  },\n  entryContent: {\n    flex: 1,\n    gap: Spacing.xs,\n  },\n  entryHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  notes: {\n    marginTop: Spacing.xs,\n    fontStyle: \"italic\",\n  },\n  deleteButton: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  emptyContainer: {\n    paddingTop: Spacing.xxl,\n    alignItems: \"center\",\n  },\n  fabContainer: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    alignItems: \"center\",\n  },\n  fab: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  modalContainer: {\n    flex: 1,\n    paddingTop: Spacing.xxl,\n  },\n  modalHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.xl,\n    marginBottom: Spacing.lg,\n  },\n  modalScroll: {\n    flex: 1,\n  },\n  modalScrollContent: {\n    paddingHorizontal: Spacing.xl,\n    paddingBottom: Spacing.xxl,\n  },\n  typeSelector: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: Spacing.sm,\n    marginBottom: Spacing.xl,\n  },\n  typeButton: {\n    paddingVertical: Spacing.sm,\n    paddingHorizontal: Spacing.md,\n    borderRadius: BorderRadius.medium,\n  },\n  bpInputs: {\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    gap: Spacing.md,\n    marginBottom: Spacing.lg,\n  },\n  bpInputContainer: {\n    flex: 1,\n    gap: Spacing.xs,\n  },\n  bpSlash: {\n    marginBottom: Spacing.md,\n  },\n  input: {\n    height: 56,\n    borderRadius: BorderRadius.medium,\n    paddingHorizontal: Spacing.md,\n    fontSize: 18,\n  },\n  fullInput: {\n    marginBottom: Spacing.lg,\n  },\n  notesInput: {\n    height: 100,\n    paddingTop: Spacing.md,\n    textAlignVertical: \"top\",\n    marginBottom: Spacing.xl,\n  },\n  saveButton: {\n    marginTop: Spacing.lg,\n  },\n});\n","path":null,"size_bytes":11604,"size_tokens":null},"babel.config.js":{"content":"module.exports = function (api) {\n  api.cache(true);\n  return {\n    presets: [\"babel-preset-expo\"],\n    plugins: [\n      [\n        \"module-resolver\",\n        {\n          root: [\"./\"],\n          alias: {\n            \"@\": \"./client\",\n            \"@shared\": \"./shared\",\n          },\n          extensions: [\".ios.js\", \".android.js\", \".js\", \".ts\", \".tsx\", \".json\"],\n        },\n      ],\n      \"react-native-reanimated/plugin\",\n    ],\n  };\n};\n","path":null,"size_bytes":436,"size_tokens":null},"client/components/KeyboardAwareScrollViewCompat.tsx":{"content":"import { Platform, ScrollView, ScrollViewProps } from \"react-native\";\nimport {\n  KeyboardAwareScrollView,\n  KeyboardAwareScrollViewProps,\n} from \"react-native-keyboard-controller\";\n\ntype Props = KeyboardAwareScrollViewProps & ScrollViewProps;\n\n/**\n * KeyboardAwareScrollView that falls back to ScrollView on web.\n * Use this for any screen containing text inputs.\n */\nexport function KeyboardAwareScrollViewCompat({\n  children,\n  keyboardShouldPersistTaps = \"handled\",\n  ...props\n}: Props) {\n  if (Platform.OS === \"web\") {\n    return (\n      <ScrollView\n        keyboardShouldPersistTaps={keyboardShouldPersistTaps}\n        {...props}\n      >\n        {children}\n      </ScrollView>\n    );\n  }\n\n  return (\n    <KeyboardAwareScrollView\n      keyboardShouldPersistTaps={keyboardShouldPersistTaps}\n      {...props}\n    >\n      {children}\n    </KeyboardAwareScrollView>\n  );\n}\n","path":null,"size_bytes":872,"size_tokens":null},"client/index.js":{"content":"import { registerRootComponent } from \"expo\";\n\nimport App from \"@/App\";\n\nregisterRootComponent(App);\n","path":null,"size_bytes":101,"size_tokens":null},"client/components/VoiceButton.tsx":{"content":"import React, { useEffect } from \"react\";\nimport { StyleSheet, Pressable, ViewStyle, Platform } from \"react-native\";\nimport { Feather } from \"@expo/vector-icons\";\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withSpring,\n  withRepeat,\n  withSequence,\n  cancelAnimation,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\n\ninterface VoiceButtonProps {\n  isListening: boolean;\n  onPress: () => void;\n  style?: ViewStyle;\n}\n\nconst springConfig: WithSpringConfig = {\n  damping: 15,\n  mass: 0.3,\n  stiffness: 150,\n  overshootClamping: true,\n  energyThreshold: 0.001,\n};\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function VoiceButton({ isListening, onPress, style }: VoiceButtonProps) {\n  const { theme } = useTheme();\n  const scale = useSharedValue(1);\n  const pulseScale = useSharedValue(1);\n\n  useEffect(() => {\n    if (isListening) {\n      pulseScale.value = withRepeat(\n        withSequence(\n          withSpring(1.1, { duration: 500 }),\n          withSpring(1.0, { duration: 500 })\n        ),\n        -1,\n        false\n      );\n    } else {\n      cancelAnimation(pulseScale);\n      pulseScale.value = withSpring(1, springConfig);\n    }\n  }, [isListening, pulseScale]);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value * pulseScale.value }],\n  }));\n\n  const handlePressIn = () => {\n    scale.value = withSpring(0.95, springConfig);\n  };\n\n  const handlePressOut = () => {\n    scale.value = withSpring(1, springConfig);\n  };\n\n  return (\n    <AnimatedPressable\n      onPress={onPress}\n      onPressIn={handlePressIn}\n      onPressOut={handlePressOut}\n      style={[\n        styles.button,\n        { backgroundColor: theme.primary },\n        animatedStyle,\n        style,\n      ]}\n      accessible\n      accessibilityRole=\"button\"\n      accessibilityLabel=\"Voice Control\"\n      accessibilityHint=\"Tap to start voice commands\"\n    >\n      <Feather name=\"mic\" size={32} color=\"#FFFFFF\" />\n    </AnimatedPressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    ...Platform.select({\n      ios: {\n        shadowColor: \"#000\",\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.1,\n        shadowRadius: 2,\n      },\n      android: {\n        elevation: 4,\n      },\n    }),\n  },\n});\n","path":null,"size_bytes":2451,"size_tokens":null},"client/components/ThemedText.tsx":{"content":"import { Text, type TextProps } from \"react-native\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Typography } from \"@/constants/theme\";\n\nexport type ThemedTextProps = TextProps & {\n  lightColor?: string;\n  darkColor?: string;\n  type?: \"title\" | \"heading\" | \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"body\" | \"small\" | \"caption\" | \"link\";\n};\n\nexport function ThemedText({\n  style,\n  lightColor,\n  darkColor,\n  type = \"body\",\n  ...rest\n}: ThemedTextProps) {\n  const { theme, isDark } = useTheme();\n\n  const getColor = () => {\n    if (isDark && darkColor) {\n      return darkColor;\n    }\n\n    if (!isDark && lightColor) {\n      return lightColor;\n    }\n\n    if (type === \"link\") {\n      return theme.link;\n    }\n\n    return theme.text;\n  };\n\n  const getTypeStyle = () => {\n    switch (type) {\n      case \"title\":\n        return Typography.title;\n      case \"heading\":\n        return Typography.heading;\n      case \"h1\":\n        return Typography.h1;\n      case \"h2\":\n        return Typography.h2;\n      case \"h3\":\n        return Typography.h3;\n      case \"h4\":\n        return Typography.h4;\n      case \"body\":\n        return Typography.body;\n      case \"small\":\n        return Typography.small;\n      case \"caption\":\n        return Typography.caption;\n      case \"link\":\n        return Typography.link;\n      default:\n        return Typography.body;\n    }\n  };\n\n  return (\n    <Text style={[{ color: getColor() }, getTypeStyle(), style]} {...rest} />\n  );\n}\n","path":null,"size_bytes":1452,"size_tokens":null},"client/components/Card.tsx":{"content":"import React from \"react\";\nimport { StyleSheet, Pressable, ViewStyle } from \"react-native\";\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\n\ninterface CardProps {\n  elevation?: number;\n  title?: string;\n  description?: string;\n  children?: React.ReactNode;\n  onPress?: () => void;\n  style?: ViewStyle;\n}\n\nconst springConfig: WithSpringConfig = {\n  damping: 15,\n  mass: 0.3,\n  stiffness: 150,\n  overshootClamping: true,\n  energyThreshold: 0.001,\n};\n\nconst getBackgroundColorForElevation = (\n  elevation: number,\n  theme: any,\n): string => {\n  switch (elevation) {\n    case 1:\n      return theme.backgroundDefault;\n    case 2:\n      return theme.backgroundSecondary;\n    case 3:\n      return theme.backgroundTertiary;\n    default:\n      return theme.backgroundRoot;\n  }\n};\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function Card({\n  elevation = 1,\n  title,\n  description,\n  children,\n  onPress,\n  style,\n}: CardProps) {\n  const { theme } = useTheme();\n  const scale = useSharedValue(1);\n\n  const cardBackgroundColor = getBackgroundColorForElevation(elevation, theme);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value }],\n  }));\n\n  const handlePressIn = () => {\n    scale.value = withSpring(0.98, springConfig);\n  };\n\n  const handlePressOut = () => {\n    scale.value = withSpring(1, springConfig);\n  };\n\n  return (\n    <AnimatedPressable\n      onPress={onPress}\n      onPressIn={handlePressIn}\n      onPressOut={handlePressOut}\n      style={[\n        styles.card,\n        {\n          backgroundColor: cardBackgroundColor,\n        },\n        animatedStyle,\n        style,\n      ]}\n    >\n      {title ? (\n        <ThemedText type=\"h4\" style={styles.cardTitle}>\n          {title}\n        </ThemedText>\n      ) : null}\n      {description ? (\n        <ThemedText type=\"small\" style={styles.cardDescription}>\n          {description}\n        </ThemedText>\n      ) : null}\n      {children}\n    </AnimatedPressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  card: {\n    padding: Spacing.xl,\n    borderRadius: BorderRadius.large,\n  },\n  cardTitle: {\n    marginBottom: Spacing.sm,\n  },\n  cardDescription: {\n    opacity: 0.7,\n  },\n});\n","path":null,"size_bytes":2436,"size_tokens":null},"replit.md":{"content":"# Spinal Hub\n\n## Overview\n\nSpinal Hub is a personal health and daily management mobile application built with Expo React Native and TypeScript. The app is specifically designed for a C5 quadriplegic user, making accessibility, clarity, and simplicity the primary design considerations.\n\nThe application serves as a centralized hub for managing daily routines, health tracking, care coordination, appointments, and life management tools. It follows a category-based organization with tools nested under each category.\n\n## Recent Changes\n\n- **December 2025:** Implemented full data persistence using AsyncStorage\n- **December 2025:** Built 7 functional tool screens with accessible forms and delete actions\n- **December 2025:** Added KeyboardAwareScrollViewCompat to all modal forms for keyboard avoidance\n- **December 2025:** Replaced long-press gestures with explicit delete buttons (trash icons) for accessibility\n\n## User Preferences\n\n- Preferred communication style: Simple, everyday language\n- Voice features: Removed per user request\n- Accessibility: Large touch targets (80x80pt for primary actions), explicit delete buttons, no gesture-based interactions\n\n## System Architecture\n\n### Frontend Architecture\n\n**Framework:** Expo React Native with TypeScript\n- Uses Expo SDK 54 with React 19 and React Native 0.81\n- React Navigation Native Stack for navigation (stack-only, no tab navigation)\n- React Native Reanimated for smooth animations\n- TanStack React Query for server state management\n\n**Navigation Structure:**\n- Dashboard screen (root) - 3-column grid of 6 category tiles\n- CategoryDetail screen - shows tools within selected category\n- Individual tool screens:\n  - VitalsLogScreen - blood pressure, heart rate, temperature, oxygen, weight\n  - PainJournalScreen - pain level 1-10 with body location\n  - MedicationTrackerScreen - medication management and daily dose tracking\n  - HydrationTrackerScreen - water intake with quick-add buttons\n  - RoutineScreen - morning/evening routine checklists\n  - AppointmentSchedulerScreen - appointment scheduling\n  - EmergencyContactsScreen - emergency contact management with call button\n- Settings screen accessible from Dashboard header\n\n**Typed Navigation:**\n```typescript\nMainStackParamList = {\n  Dashboard: undefined;\n  CategoryDetail: { category: string; title: string };\n  Settings: undefined;\n  VitalsLog: undefined;\n  PainJournal: undefined;\n  MedicationTracker: undefined;\n  HydrationTracker: undefined;\n  MorningRoutine: undefined;\n  EveningRoutine: undefined;\n  AppointmentScheduler: undefined;\n  EmergencyContacts: undefined;\n}\n```\n\n**Component Architecture:**\n- Themed components (ThemedView, ThemedText) for consistent styling\n- Custom accessible components (Button, Card, CategoryTile)\n- KeyboardAwareScrollViewCompat for all forms with text inputs\n- Error boundary for graceful error handling\n- Light/dark theme support via useTheme hook\n\n**Accessibility Features:**\n- Large touch targets (80x80pt for FABs, 48x48pt for action buttons)\n- Explicit delete buttons with trash icons (no long-press required)\n- KeyboardAwareScrollViewCompat for all modals to prevent keyboard occlusion\n- High contrast colors for readability\n- AccessibilityLabel and accessibilityRole on all interactive elements\n\n**Design System:**\n- Centralized theme constants in `client/constants/theme.ts`\n- Spacing, Typography, Colors, BorderRadius tokens\n- Primary colors: #007AFF (light) / #0A84FF (dark)\n- iOS-inspired liquid glass visual design\n\n### Backend Architecture\n\n**Server:** Express.js with TypeScript\n- RESTful API structure with routes prefixed by `/api`\n- CORS configuration for Replit domains\n- HTTP server setup for potential WebSocket support\n\n**Storage Layer:**\n- AsyncStorage for client-side persistent data (primary storage)\n- Storage utility in `client/lib/storage.ts` with typed interfaces\n- Drizzle ORM with PostgreSQL schema defined for future use\n\n### Data Storage Solutions\n\n**Client-Side (AsyncStorage) - Fully Implemented:**\n- `@spinal_hub/vitals` - Vital signs entries\n- `@spinal_hub/pain` - Pain journal entries\n- `@spinal_hub/medications` - Medication definitions\n- `@spinal_hub/medication_logs` - Daily medication tracking\n- `@spinal_hub/hydration` - Water intake logs\n- `@spinal_hub/routines/morning` - Morning routine tasks\n- `@spinal_hub/routines/evening` - Evening routine tasks\n- `@spinal_hub/routine_completions` - Routine completion tracking\n- `@spinal_hub/appointments` - Scheduled appointments\n- `@spinal_hub/emergency_contacts` - Emergency contact list\n- `@spinal_hub/preferences` - User preferences (theme, daily goals)\n\n**Server-Side:**\n- Drizzle ORM with PostgreSQL schema defined\n- User table for potential future authentication\n- Currently using in-memory storage as default\n\n### Authentication\n\nNo authentication is currently implemented. This is a single-user personal app with local data storage. The Settings screen provides user preferences without requiring login.\n\n## External Dependencies\n\n### Core Libraries\n- **Expo SDK 54:** Mobile development framework\n- **React Navigation 7:** Native stack navigation\n- **TanStack React Query 5:** Async state management\n- **Drizzle ORM 0.39:** Database toolkit (PostgreSQL schema)\n- **Zod:** Schema validation\n\n### UI/UX Libraries\n- **React Native Reanimated 4.1:** Animation library\n- **Expo Haptics:** Tactile feedback\n- **react-native-keyboard-controller:** Keyboard avoidance\n- **@expo/vector-icons (Feather):** Icon set\n\n### Development Tools\n- **tsx:** TypeScript execution for server\n- **drizzle-kit:** Database migrations\n- **ESLint + Prettier:** Code quality\n\n### Database\n- PostgreSQL via Drizzle ORM (schema defined, requires DATABASE_URL)\n- AsyncStorage for client-side persistence (primary)\n\n### Platform Support\n- iOS, Android, and Web (single output)\n- Replit deployment configuration included\n","path":null,"size_bytes":5842,"size_tokens":null},"client/components/Spacer.tsx":{"content":"import { View } from \"react-native\";\n\ntype Props = {\n  width?: number;\n  height?: number;\n};\n\nexport default function Spacer(props: Props) {\n  const width: number = props.width ?? 1;\n  const height: number = props.height ?? 1;\n\n  return (\n    <View\n      style={{\n        width,\n        height,\n      }}\n    />\n  );\n}\n","path":null,"size_bytes":318,"size_tokens":null},"client/config/catalog.ts":{"content":"import { Feather } from \"@expo/vector-icons\";\nimport { MainStackParamList } from \"@/types/navigation\";\n\nexport type ToolConfig = {\n  id: string;\n  name: string;\n  description: string;\n  icon: keyof typeof Feather.glyphMap;\n  route?: MedicationTracker;\n  comingSoon?: boolean;\n};\n\nexport type CategoryConfig = {\n  id: string;\n  title: string;\n  icon: \"sun\" | \"activity\" | \"users\" | \"calendar\" | \"briefcase\" | \"tool\";\n  tools: ToolConfig[];\n};\n\nexport const CATEGORIES: CategoryConfig[] = [\n  {\n    id: \"daily-routine\",\n    title: \"Daily Routine\",\n    icon: \"sun\",\n    tools: [\n      {\n        id: \"morning\",\n        name: \"Morning Routine\",\n        description: \"Track your morning care tasks\",\n        icon: \"sunrise\",\n        route: \"MorningRoutine\",\n      },\n      {\n        id: \"evening\",\n        name: \"Evening Routine\",\n        description: \"Complete your evening checklist\",\n        icon: \"moon\",\n        route: \"EveningRoutine\",\n      },\n      {\n        id: \"hydration\",\n        name: \"Hydration Tracker\",\n        description: \"Log water intake throughout the day\",\n        icon: \"droplet\",\n        route: \"HydrationTracker\",\n      },\n    ],\n  },\n  {\n    id: \"health-tracking\",\n    title: \"Health Tracking\",\n    icon: \"activity\",\n    tools: [\n      {\n        id: \"vitals\",\n        name: \"Vital Signs Log\",\n        description: \"Record blood pressure, heart rate, and more\",\n        icon: \"heart\",\n        route: \"VitalsLog\",\n      },\n      {\n        id: \"pain\",\n        name: \"Pain Journal\",\n        description: \"Track pain levels and locations\",\n        icon: \"activity\",\n        route: \"PainJournal\",\n      },\n      {\n        id: \"medications\",\n        name: \"Medications\",\n        description: \"Manage and track your medications\",\n        icon: \"clipboard\",\n        route: \"MedicationTracker\",\n      },\n    ],\n  },\n  {\n    id: \"care-support\",\n    title: \"Care & Support\",\n    icon: \"users\",\n    tools: [\n      {\n        id: \"emergency\",\n        name: \"Emergency Contacts\",\n        description: \"Quick access to important contacts\",\n        icon: \"phone\",\n        route: \"EmergencyContacts\",\n      },\n      {\n        id: \"caregiver-notes\",\n        name: \"Caregiver Notes\",\n        description: \"Share notes with your care team\",\n        icon: \"file-text\",\n        comingSoon: true,\n      },\n    ],\n  },\n  {\n    id: \"appointments\",\n    title: \"Appointments\",\n    icon: \"calendar\",\n    tools: [\n      {\n        id: \"schedule\",\n        name: \"Schedule\",\n        description: \"Manage upcoming appointments\",\n        icon: \"calendar\",\n        route: \"AppointmentScheduler\",\n      },\n    ],\n  },\n  {\n    id: \"life-management\",\n    title: \"Life Management\",\n    icon: \"briefcase\",\n    tools: [\n      {\n        id: \"notes\",\n        name: \"Notes & Journal\",\n        description: \"Personal thoughts and reflections\",\n        icon: \"edit-3\",\n        comingSoon: true,\n      },\n    ],\n  },\n  {\n    id: \"custom-tools\",\n    title: \"Custom Tools\",\n    icon: \"tool\",\n    tools: [\n      {\n        id: \"create\",\n        name: \"Create New Tool\",\n        description: \"Build a custom tracking tool\",\n        icon: \"plus-circle\",\n        comingSoon: true,\n      },\n    ],\n  },\n];\n","path":null,"size_bytes":3169,"size_tokens":null},"client/constants/theme.ts":{"content":"import { Platform } from \"react-native\";\n\nconst tintColorLight = \"#007AFF\";\nconst tintColorDark = \"#0A84FF\";\n\nexport const Colors = {\n  light: {\n    text: \"#000000\",\n    textSecondary: \"#666666\",\n    buttonText: \"#FFFFFF\",\n    tabIconDefault: \"#687076\",\n    tabIconSelected: tintColorLight,\n    link: \"#007AFF\",\n    primary: \"#007AFF\",\n    backgroundRoot: \"#FFFFFF\",\n    backgroundDefault: \"#F5F5F5\",\n    backgroundSecondary: \"#E6E6E6\",\n    backgroundTertiary: \"#D9D9D9\",\n    border: \"#E0E0E0\",\n    success: \"#34C759\",\n    warning: \"#FF9500\",\n    error: \"#FF3B30\",\n  },\n  dark: {\n    text: \"#FFFFFF\",\n    textSecondary: \"#B0B0B0\",\n    buttonText: \"#FFFFFF\",\n    tabIconDefault: \"#9BA1A6\",\n    tabIconSelected: tintColorDark,\n    link: \"#0A84FF\",\n    primary: \"#0A84FF\",\n    backgroundRoot: \"#000000\",\n    backgroundDefault: \"#1E1E1E\",\n    backgroundSecondary: \"#2C2C2E\",\n    backgroundTertiary: \"#3A3A3C\",\n    border: \"#333333\",\n    success: \"#30D158\",\n    warning: \"#FF9F0A\",\n    error: \"#FF453A\",\n  },\n};\n\nexport const Spacing = {\n  xs: 4,\n  sm: 8,\n  md: 16,\n  lg: 24,\n  xl: 32,\n  xxl: 48,\n  inputHeight: 48,\n  buttonHeight: 52,\n};\n\nexport const BorderRadius = {\n  small: 8,\n  medium: 12,\n  large: 20,\n  full: 9999,\n};\n\nexport const Typography = {\n  title: {\n    fontSize: 32,\n    fontWeight: \"700\" as const,\n  },\n  heading: {\n    fontSize: 24,\n    fontWeight: \"600\" as const,\n  },\n  h1: {\n    fontSize: 32,\n    fontWeight: \"700\" as const,\n  },\n  h2: {\n    fontSize: 28,\n    fontWeight: \"700\" as const,\n  },\n  h3: {\n    fontSize: 24,\n    fontWeight: \"600\" as const,\n  },\n  h4: {\n    fontSize: 20,\n    fontWeight: \"600\" as const,\n  },\n  body: {\n    fontSize: 18,\n    fontWeight: \"400\" as const,\n  },\n  small: {\n    fontSize: 14,\n    fontWeight: \"400\" as const,\n  },\n  caption: {\n    fontSize: 14,\n    fontWeight: \"400\" as const,\n  },\n  link: {\n    fontSize: 16,\n    fontWeight: \"400\" as const,\n  },\n};\n\nexport const Fonts = Platform.select({\n  ios: {\n    sans: \"system-ui\",\n    serif: \"ui-serif\",\n    rounded: \"ui-rounded\",\n    mono: \"ui-monospace\",\n  },\n  default: {\n    sans: \"normal\",\n    serif: \"serif\",\n    rounded: \"normal\",\n    mono: \"monospace\",\n  },\n  web: {\n    sans: \"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif\",\n    serif: \"Georgia, 'Times New Roman', serif\",\n    rounded:\n      \"'SF Pro Rounded', 'Hiragino Maru Gothic ProN', Meiryo, 'MS PGothic', sans-serif\",\n    mono: \"SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace\",\n  },\n});\n","path":null,"size_bytes":2534,"size_tokens":null},"client/lib/storage.ts":{"content":"import AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nconst STORAGE_KEYS = {\n  HEALTH_VITALS: \"health_vitals\",\n  PAIN_ENTRIES: \"pain_entries\",\n  MEDICATIONS: \"medications\",\n  MEDICATION_LOGS: \"medication_logs\",\n  HYDRATION_LOGS: \"hydration_logs\",\n  ROUTINE_TASKS: \"routine_tasks\",\n  ROUTINE_COMPLETIONS: \"routine_completions\",\n  APPOINTMENTS: \"appointments\",\n  USER_PREFERENCES: \"user_preferences\",\n  EMERGENCY_CONTACTS: \"emergency_contacts\",\n} as const;\n\nexport type VitalEntry = {\n  id: string;\n  type: \"blood_pressure\" | \"heart_rate\" | \"temperature\" | \"weight\" | \"oxygen\";\n  value: string;\n  systolic?: number;\n  diastolic?: number;\n  timestamp: string;\n  notes?: string;\n};\n\nexport type PainEntry = {\n  id: string;\n  level: number;\n  location: string;\n  description?: string;\n  timestamp: string;\n};\n\nexport type Medication = {\n  id: string;\n  name: string;\n  dosage: string;\n  frequency: string;\n  times: string[];\n  notes?: string;\n};\n\nexport type MedicationLog = {\n  id: string;\n  medicationId: string;\n  taken: boolean;\n  scheduledTime: string;\n  actualTime?: string;\n  date: string;\n};\n\nexport type HydrationLog = {\n  id: string;\n  amount: number;\n  unit: \"oz\" | \"ml\";\n  timestamp: string;\n  date: string;\n};\n\nexport type RoutineTask = {\n  id: string;\n  name: string;\n  category: \"morning\" | \"evening\" | \"anytime\";\n  order: number;\n};\n\nexport type RoutineCompletion = {\n  id: string;\n  taskId: string;\n  date: string;\n  completedAt: string;\n};\n\nexport type Appointment = {\n  id: string;\n  title: string;\n  type: \"doctor\" | \"therapy\" | \"equipment\" | \"other\";\n  date: string;\n  time: string;\n  location?: string;\n  notes?: string;\n  reminder?: boolean;\n};\n\nexport type EmergencyContact = {\n  id: string;\n  name: string;\n  relationship: string;\n  phone: string;\n  isPrimary: boolean;\n};\n\nexport type UserPreferences = {\n  darkMode?: boolean;\n  dailyWaterGoal: number;\n  waterUnit: \"oz\" | \"ml\";\n};\n\nasync function getItem<T>(key: string): Promise<T | null> {\n  try {\n    const value = await AsyncStorage.getItem(key);\n    return value ? JSON.parse(value) : null;\n  } catch (error) {\n    console.error(`Error reading ${key}:`, error);\n    return null;\n  }\n}\n\nasync function setItem<T>(key: string, value: T): Promise<void> {\n  try {\n    await AsyncStorage.setItem(key, JSON.stringify(value));\n  } catch (error) {\n    console.error(`Error saving ${key}:`, error);\n  }\n}\n\nexport const storage = {\n  vitals: {\n    getAll: () => getItem<VitalEntry[]>(STORAGE_KEYS.HEALTH_VITALS),\n    save: (entries: VitalEntry[]) => setItem(STORAGE_KEYS.HEALTH_VITALS, entries),\n    add: async (entry: VitalEntry) => {\n      const entries = (await storage.vitals.getAll()) || [];\n      entries.unshift(entry);\n      await storage.vitals.save(entries);\n    },\n    delete: async (id: string) => {\n      const entries = (await storage.vitals.getAll()) || [];\n      await storage.vitals.save(entries.filter((e) => e.id !== id));\n    },\n  },\n\n  pain: {\n    getAll: () => getItem<PainEntry[]>(STORAGE_KEYS.PAIN_ENTRIES),\n    save: (entries: PainEntry[]) => setItem(STORAGE_KEYS.PAIN_ENTRIES, entries),\n    add: async (entry: PainEntry) => {\n      const entries = (await storage.pain.getAll()) || [];\n      entries.unshift(entry);\n      await storage.pain.save(entries);\n    },\n    delete: async (id: string) => {\n      const entries = (await storage.pain.getAll()) || [];\n      await storage.pain.save(entries.filter((e) => e.id !== id));\n    },\n  },\n\n  medications: {\n    getAll: () => getItem<Medication[]>(STORAGE_KEYS.MEDICATIONS),\n    save: (meds: Medication[]) => setItem(STORAGE_KEYS.MEDICATIONS, meds),\n    add: async (med: Medication) => {\n      const meds = (await storage.medications.getAll()) || [];\n      meds.push(med);\n      await storage.medications.save(meds);\n    },\n    update: async (med: Medication) => {\n      const meds = (await storage.medications.getAll()) || [];\n      const index = meds.findIndex((m) => m.id === med.id);\n      if (index !== -1) {\n        meds[index] = med;\n        await storage.medications.save(meds);\n      }\n    },\n    delete: async (id: string) => {\n      const meds = (await storage.medications.getAll()) || [];\n      await storage.medications.save(meds.filter((m) => m.id !== id));\n    },\n  },\n\n  medicationLogs: {\n    getAll: () => getItem<MedicationLog[]>(STORAGE_KEYS.MEDICATION_LOGS),\n    save: (logs: MedicationLog[]) => setItem(STORAGE_KEYS.MEDICATION_LOGS, logs),\n    getByDate: async (date: string) => {\n      const logs = (await storage.medicationLogs.getAll()) || [];\n      return logs.filter((l) => l.date === date);\n    },\n    log: async (log: MedicationLog) => {\n      const logs = (await storage.medicationLogs.getAll()) || [];\n      const existingIndex = logs.findIndex(\n        (l) => l.medicationId === log.medicationId && l.date === log.date && l.scheduledTime === log.scheduledTime\n      );\n      if (existingIndex !== -1) {\n        logs[existingIndex] = log;\n      } else {\n        logs.push(log);\n      }\n      await storage.medicationLogs.save(logs);\n    },\n  },\n\n  hydration: {\n    getAll: () => getItem<HydrationLog[]>(STORAGE_KEYS.HYDRATION_LOGS),\n    save: (logs: HydrationLog[]) => setItem(STORAGE_KEYS.HYDRATION_LOGS, logs),\n    getByDate: async (date: string) => {\n      const logs = (await storage.hydration.getAll()) || [];\n      return logs.filter((l) => l.date === date);\n    },\n    add: async (log: HydrationLog) => {\n      const logs = (await storage.hydration.getAll()) || [];\n      logs.push(log);\n      await storage.hydration.save(logs);\n    },\n    delete: async (id: string) => {\n      const logs = (await storage.hydration.getAll()) || [];\n      await storage.hydration.save(logs.filter((l) => l.id !== id));\n    },\n  },\n\n  routineTasks: {\n    getAll: () => getItem<RoutineTask[]>(STORAGE_KEYS.ROUTINE_TASKS),\n    save: (tasks: RoutineTask[]) => setItem(STORAGE_KEYS.ROUTINE_TASKS, tasks),\n    getDefaults: (): RoutineTask[] => [\n      { id: \"1\", name: \"Take morning medications\", category: \"morning\", order: 1 },\n      { id: \"2\", name: \"Bowel program\", category: \"morning\", order: 2 },\n      { id: \"3\", name: \"Skin check\", category: \"morning\", order: 3 },\n      { id: \"4\", name: \"Range of motion exercises\", category: \"morning\", order: 4 },\n      { id: \"5\", name: \"Evening medications\", category: \"evening\", order: 1 },\n      { id: \"6\", name: \"Catheter care\", category: \"evening\", order: 2 },\n      { id: \"7\", name: \"Positioning for sleep\", category: \"evening\", order: 3 },\n    ],\n    initialize: async () => {\n      const existing = await storage.routineTasks.getAll();\n      if (!existing || existing.length === 0) {\n        await storage.routineTasks.save(storage.routineTasks.getDefaults());\n      }\n    },\n  },\n\n  routineCompletions: {\n    getAll: () => getItem<RoutineCompletion[]>(STORAGE_KEYS.ROUTINE_COMPLETIONS),\n    save: (completions: RoutineCompletion[]) => setItem(STORAGE_KEYS.ROUTINE_COMPLETIONS, completions),\n    getByDate: async (date: string) => {\n      const completions = (await storage.routineCompletions.getAll()) || [];\n      return completions.filter((c) => c.date === date);\n    },\n    toggle: async (taskId: string, date: string) => {\n      const completions = (await storage.routineCompletions.getAll()) || [];\n      const existingIndex = completions.findIndex((c) => c.taskId === taskId && c.date === date);\n      if (existingIndex !== -1) {\n        completions.splice(existingIndex, 1);\n      } else {\n        completions.push({\n          id: Date.now().toString(),\n          taskId,\n          date,\n          completedAt: new Date().toISOString(),\n        });\n      }\n      await storage.routineCompletions.save(completions);\n      return existingIndex === -1;\n    },\n  },\n\n  appointments: {\n    getAll: () => getItem<Appointment[]>(STORAGE_KEYS.APPOINTMENTS),\n    save: (appointments: Appointment[]) => setItem(STORAGE_KEYS.APPOINTMENTS, appointments),\n    add: async (appointment: Appointment) => {\n      const appointments = (await storage.appointments.getAll()) || [];\n      appointments.push(appointment);\n      appointments.sort((a, b) => new Date(a.date + \" \" + a.time).getTime() - new Date(b.date + \" \" + b.time).getTime());\n      await storage.appointments.save(appointments);\n    },\n    update: async (appointment: Appointment) => {\n      const appointments = (await storage.appointments.getAll()) || [];\n      const index = appointments.findIndex((a) => a.id === appointment.id);\n      if (index !== -1) {\n        appointments[index] = appointment;\n        await storage.appointments.save(appointments);\n      }\n    },\n    delete: async (id: string) => {\n      const appointments = (await storage.appointments.getAll()) || [];\n      await storage.appointments.save(appointments.filter((a) => a.id !== id));\n    },\n    getUpcoming: async () => {\n      const appointments = (await storage.appointments.getAll()) || [];\n      const now = new Date();\n      return appointments.filter((a) => new Date(a.date + \" \" + a.time) >= now);\n    },\n  },\n\n  emergencyContacts: {\n    getAll: () => getItem<EmergencyContact[]>(STORAGE_KEYS.EMERGENCY_CONTACTS),\n    save: (contacts: EmergencyContact[]) => setItem(STORAGE_KEYS.EMERGENCY_CONTACTS, contacts),\n    add: async (contact: EmergencyContact) => {\n      const contacts = (await storage.emergencyContacts.getAll()) || [];\n      contacts.push(contact);\n      await storage.emergencyContacts.save(contacts);\n    },\n    update: async (contact: EmergencyContact) => {\n      const contacts = (await storage.emergencyContacts.getAll()) || [];\n      const index = contacts.findIndex((c) => c.id === contact.id);\n      if (index !== -1) {\n        contacts[index] = contact;\n        await storage.emergencyContacts.save(contacts);\n      }\n    },\n    delete: async (id: string) => {\n      const contacts = (await storage.emergencyContacts.getAll()) || [];\n      await storage.emergencyContacts.save(contacts.filter((c) => c.id !== id));\n    },\n  },\n\n  preferences: {\n    get: async (): Promise<UserPreferences> => {\n      const prefs = await getItem<UserPreferences>(STORAGE_KEYS.USER_PREFERENCES);\n      return prefs || { dailyWaterGoal: 64, waterUnit: \"oz\" };\n    },\n    save: (prefs: UserPreferences) => setItem(STORAGE_KEYS.USER_PREFERENCES, prefs),\n  },\n};\n\nexport function generateId(): string {\n  return Date.now().toString(36) + Math.random().toString(36).substr(2);\n}\n\nexport function formatDate(date: Date): string {\n  return date.toISOString().split(\"T\")[0];\n}\n\nexport function formatTime(date: Date): string {\n  return date.toLocaleTimeString(\"en-US\", { hour: \"2-digit\", minute: \"2-digit\" });\n}\n","path":null,"size_bytes":10567,"size_tokens":null},"client/screens/SettingsScreen.tsx":{"content":"import React from \"react\";\nimport { View, StyleSheet, ScrollView, Pressable } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\n\ntype SettingItem = {\n  id: string;\n  title: string;\n  icon: keyof typeof Feather.glyphMap;\n  description?: string;\n};\n\nconst settingsItems: SettingItem[] = [\n  { id: \"display\", title: \"Display\", icon: \"monitor\", description: \"Theme and appearance\" },\n  { id: \"voice\", title: \"Voice Settings\", icon: \"mic\", description: \"Voice control preferences\" },\n  { id: \"accessibility\", title: \"Accessibility\", icon: \"eye\", description: \"Accessibility options\" },\n  { id: \"notifications\", title: \"Notifications\", icon: \"bell\", description: \"Manage alerts and reminders\" },\n  { id: \"data\", title: \"Data & Backup\", icon: \"database\", description: \"Export and backup your data\" },\n  { id: \"about\", title: \"About\", icon: \"info\", description: \"App version and info\" },\n];\n\nexport default function SettingsScreen() {\n  const insets = useSafeAreaInsets();\n  const { theme } = useTheme();\n\n  const renderSettingItem = (item: SettingItem) => (\n    <Pressable\n      key={item.id}\n      style={({ pressed }) => [\n        styles.settingItem,\n        { backgroundColor: theme.backgroundDefault },\n        pressed && { opacity: 0.7 },\n      ]}\n      accessible\n      accessibilityRole=\"button\"\n      accessibilityLabel={`${item.title}. ${item.description}`}\n    >\n      <View style={[styles.iconContainer, { backgroundColor: theme.primary }]}>\n        <Feather name={item.icon} size={20} color=\"#FFFFFF\" />\n      </View>\n      <View style={styles.textContainer}>\n        <ThemedText type=\"h4\" style={styles.settingTitle}>\n          {item.title}\n        </ThemedText>\n        {item.description ? (\n          <ThemedText\n            type=\"small\"\n            style={[styles.settingDescription, { color: theme.textSecondary }]}\n          >\n            {item.description}\n          </ThemedText>\n        ) : null}\n      </View>\n      <Feather name=\"chevron-right\" size={24} color={theme.textSecondary} />\n    </Pressable>\n  );\n\n  return (\n    <ThemedView style={styles.container}>\n      <ScrollView\n        contentContainerStyle={[\n          styles.scrollContent,\n          { paddingBottom: insets.bottom + Spacing.xl },\n        ]}\n        scrollIndicatorInsets={{ bottom: insets.bottom }}\n        showsVerticalScrollIndicator={false}\n      >\n        <View style={styles.section}>\n          {settingsItems.map(renderSettingItem)}\n        </View>\n      </ScrollView>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scrollContent: {\n    paddingTop: Spacing.xl,\n    paddingHorizontal: Spacing.lg,\n  },\n  section: {\n    gap: Spacing.sm,\n  },\n  settingItem: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: Spacing.md,\n    borderRadius: BorderRadius.medium,\n    minHeight: 72,\n  },\n  iconContainer: {\n    width: 40,\n    height: 40,\n    borderRadius: BorderRadius.small,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginRight: Spacing.md,\n  },\n  textContainer: {\n    flex: 1,\n  },\n  settingTitle: {\n    marginBottom: 2,\n  },\n  settingDescription: {\n    opacity: 0.7,\n  },\n});\n","path":null,"size_bytes":3448,"size_tokens":null},"client/constants/hooks/useScreenOptions.ts":{"content":"import { Platform } from \"react-native\";\nimport { NativeStackNavigationOptions } from \"@react-navigation/native-stack\";\nimport { isLiquidGlassAvailable } from \"expo-glass-effect\";\n\nimport { useTheme } from \"@/hooks/useTheme\";\n\ninterface UseScreenOptionsParams {\n  transparent?: boolean;\n}\n\nexport function useScreenOptions({\n  transparent = true,\n}: UseScreenOptionsParams = {}): NativeStackNavigationOptions {\n  const { theme, isDark } = useTheme();\n\n  return {\n    headerTitleAlign: \"center\",\n    headerTransparent: transparent,\n    headerBlurEffect: isDark ? \"dark\" : \"light\",\n    headerTintColor: theme.text,\n    headerStyle: {\n      backgroundColor: Platform.select({\n        ios: undefined,\n        android: theme.backgroundRoot,\n        web: theme.backgroundRoot,\n      }),\n    },\n    gestureEnabled: true,\n    gestureDirection: \"horizontal\",\n    fullScreenGestureEnabled: isLiquidGlassAvailable() ? false : true,\n    contentStyle: {\n      backgroundColor: theme.backgroundRoot,\n    },\n  };\n}\n","path":null,"size_bytes":1000,"size_tokens":null},"client/components/Button.tsx":{"content":"import React, { ReactNode } from \"react\";\nimport { StyleSheet, Pressable, ViewStyle, StyleProp } from \"react-native\";\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { BorderRadius, Spacing } from \"@/constants/theme\";\n\ninterface ButtonProps {\n  onPress?: () => void;\n  children: ReactNode;\n  style?: StyleProp<ViewStyle>;\n  disabled?: boolean;\n}\n\nconst springConfig: WithSpringConfig = {\n  damping: 15,\n  mass: 0.3,\n  stiffness: 150,\n  overshootClamping: true,\n  energyThreshold: 0.001,\n};\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function Button({\n  onPress,\n  children,\n  style,\n  disabled = false,\n}: ButtonProps) {\n  const { theme } = useTheme();\n  const scale = useSharedValue(1);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value }],\n  }));\n\n  const handlePressIn = () => {\n    if (!disabled) {\n      scale.value = withSpring(0.98, springConfig);\n    }\n  };\n\n  const handlePressOut = () => {\n    if (!disabled) {\n      scale.value = withSpring(1, springConfig);\n    }\n  };\n\n  return (\n    <AnimatedPressable\n      onPress={disabled ? undefined : onPress}\n      onPressIn={handlePressIn}\n      onPressOut={handlePressOut}\n      disabled={disabled}\n      style={[\n        styles.button,\n        {\n          backgroundColor: theme.primary,\n          opacity: disabled ? 0.5 : 1,\n        },\n        style,\n        animatedStyle,\n      ]}\n    >\n      <ThemedText\n        type=\"body\"\n        style={[styles.buttonText, { color: theme.buttonText }]}\n      >\n        {children}\n      </ThemedText>\n    </AnimatedPressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    height: Spacing.buttonHeight,\n    borderRadius: BorderRadius.full,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  buttonText: {\n    fontWeight: \"600\",\n  },\n});\n","path":null,"size_bytes":2017,"size_tokens":null},"client/navigation/RootStackNavigator.tsx":{"content":"import React from \"react\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { HeaderButton } from \"@react-navigation/elements\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\n\nimport { useScreenOptions } from \"@/constants/hooks/useScreenOptions\";\nimport { useTheme } from \"@/constants/hooks/useTheme\";\nimport { MainStackParamList } from \"@/types/navigation\";\n\nimport DashboardScreen from \"@/screens/DashboardScreen\";\nimport CategoryDetailScreen from \"@/screens/CategoryDetailScreen\";\nimport SettingsScreen from \"@/screens/SettingsScreen\";\nimport VitalsLogScreen from \"@/screens/tools/VitalsLogScreen\";\nimport PainJournalScreen from \"@/screens/tools/PainJournalScreen\";\nimport MedicationTrackerScreen from \"@/screens/tools/MedicationTrackerScreen\";\nimport HydrationTrackerScreen from \"@/screens/tools/HydrationTrackerScreen\";\nimport { MorningRoutineScreen, EveningRoutineScreen } from \"@/screens/tools/RoutineScreen\";\nimport AppointmentSchedulerScreen from \"@/screens/tools/AppointmentSchedulerScreen\";\nimport EmergencyContactsScreen from \"@/screens/tools/EmergencyContactsScreen\";\nimport { HeaderTitle } from \"@/components/HeaderTitle\";\n\nconst Stack = createNativeStackNavigator<MainStackParamList>();\n\nfunction SettingsHeaderButton() {\n  const navigation = useNavigation<NativeStackNavigationProp<MainStackParamList>>();\n  const { theme } = useTheme();\n\n  return (\n    <HeaderButton\n      onPress={() => navigation.navigate(\"Settings\")}\n      accessibilityLabel=\"Settings\"\n    >\n      <Feather name=\"settings\" size={22} color={theme.text} />\n    </HeaderButton>\n  );\n}\n\nexport default function RootStackNavigator() {\n  const screenOptions = useScreenOptions();\n  const opaqueScreenOptions = useScreenOptions({ transparent: false });\n\n  return (\n    <Stack.Navigator screenOptions={screenOptions}>\n      <Stack.Screen\n        name=\"Dashboard\"\n        component={DashboardScreen}\n        options={{\n          headerTitle: () => <HeaderTitle title=\"Spinal Hub\" />,\n          headerRight: () => <SettingsHeaderButton />,\n        }}\n      />\n      <Stack.Screen\n        name=\"CategoryDetail\"\n        component={CategoryDetailScreen}\n        options={({ route }) => ({\n          ...opaqueScreenOptions,\n          headerTitle: route.params.title,\n        })}\n      />\n      <Stack.Screen\n        name=\"Settings\"\n        component={SettingsScreen}\n        options={{\n          ...opaqueScreenOptions,\n          headerTitle: \"Settings\",\n        }}\n      />\n      <Stack.Screen\n        name=\"VitalsLog\"\n        component={VitalsLogScreen}\n        options={{\n          ...opaqueScreenOptions,\n          headerTitle: \"Vital Signs Log\",\n        }}\n      />\n      <Stack.Screen\n        name=\"PainJournal\"\n        component={PainJournalScreen}\n        options={{\n          ...opaqueScreenOptions,\n          headerTitle: \"Pain Journal\",\n        }}\n      />\n      <Stack.Screen\n        name=\"MedicationTracker\"\n        component={MedicationTrackerScreen}\n        options={{\n          ...opaqueScreenOptions,\n          headerTitle: \"Medications\",\n        }}\n      />\n      <Stack.Screen\n        name=\"HydrationTracker\"\n        component={HydrationTrackerScreen}\n        options={{\n          ...opaqueScreenOptions,\n          headerTitle: \"Hydration Tracker\",\n        }}\n      />\n      <Stack.Screen\n        name=\"MorningRoutine\"\n        component={MorningRoutineScreen}\n        options={{\n          ...opaqueScreenOptions,\n          headerTitle: \"Morning Routine\",\n        }}\n      />\n      <Stack.Screen\n        name=\"EveningRoutine\"\n        component={EveningRoutineScreen}\n        options={{\n          ...opaqueScreenOptions,\n          headerTitle: \"Evening Routine\",\n        }}\n      />\n      <Stack.Screen\n        name=\"AppointmentScheduler\"\n        component={AppointmentSchedulerScreen}\n        options={{\n          ...opaqueScreenOptions,\n          headerTitle: \"Appointments\",\n        }}\n      />\n      <Stack.Screen\n        name=\"EmergencyContacts\"\n        component={EmergencyContactsScreen}\n        options={{\n          ...opaqueScreenOptions,\n          headerTitle: \"Emergency Contacts\",\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","path":null,"size_bytes":4302,"size_tokens":null},"client/App.tsx":{"content":"import React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { GestureHandlerRootView } from \"react-native-gesture-handler\";\nimport { KeyboardProvider } from \"react-native-keyboard-controller\";\nimport { SafeAreaProvider } from \"react-native-safe-area-context\";\nimport { StatusBar } from \"expo-status-bar\";\n\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { queryClient } from \"@/lib/query-client\";\n\nimport RootStackNavigator from \"@/navigation/RootStackNavigator\";\nimport { ErrorBoundary } from \"@/components/ErrorBoundary\";\n\nexport default function App() {\n  return (\n    <ErrorBoundary>\n      <QueryClientProvider client={queryClient}>\n        <SafeAreaProvider>\n          <GestureHandlerRootView style={styles.root}>\n            <KeyboardProvider>\n              <NavigationContainer>\n                <RootStackNavigator />\n              </NavigationContainer>\n              <StatusBar style=\"auto\" />\n            </KeyboardProvider>\n          </GestureHandlerRootView>\n        </SafeAreaProvider>\n      </QueryClientProvider>\n    </ErrorBoundary>\n  );\n}\n\nconst styles = StyleSheet.create({\n  root: {\n    flex: 1,\n  },\n});\n","path":null,"size_bytes":1225,"size_tokens":null},"client/constants/hooks/useColorScheme.web.ts":{"content":"import { useEffect, useState } from \"react\";\nimport { useColorScheme as useRNColorScheme } from \"react-native\";\n\n/**\n * To support static rendering, this value needs to be re-calculated on the client side for web\n */\nexport function useColorScheme() {\n  const [hasHydrated, setHasHydrated] = useState(false);\n\n  useEffect(() => {\n    setHasHydrated(true);\n  }, []);\n\n  const colorScheme = useRNColorScheme();\n\n  if (hasHydrated) {\n    return colorScheme;\n  }\n\n  return \"light\";\n}\n","path":null,"size_bytes":480,"size_tokens":null},"server/index.ts":{"content":"import express from \"express\";\nimport type { Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport * as fs from \"fs\";\nimport * as path from \"path\";\n\nconst app = express();\nconst log = console.log;\n\ndeclare module \"http\" {\n  interface IncomingMessage {\n    rawBody: unknown;\n  }\n}\n\nfunction setupCors(app: express.Application) {\n  app.use((req, res, next) => {\n    const origins = new Set<string>();\n\n    if (process.env.REPLIT_DEV_DOMAIN) {\n      origins.add(`https://${process.env.REPLIT_DEV_DOMAIN}`);\n    }\n\n    if (process.env.REPLIT_DOMAINS) {\n      process.env.REPLIT_DOMAINS.split(\",\").forEach((d) => {\n        origins.add(`https://${d.trim()}`);\n      });\n    }\n\n    const origin = req.header(\"origin\");\n\n    if (origin && origins.has(origin)) {\n      res.header(\"Access-Control-Allow-Origin\", origin);\n      res.header(\n        \"Access-Control-Allow-Methods\",\n        \"GET, POST, PUT, DELETE, OPTIONS\",\n      );\n      res.header(\"Access-Control-Allow-Headers\", \"Content-Type\");\n      res.header(\"Access-Control-Allow-Credentials\", \"true\");\n    }\n\n    if (req.method === \"OPTIONS\") {\n      return res.sendStatus(200);\n    }\n\n    next();\n  });\n}\n\nfunction setupBodyParsing(app: express.Application) {\n  app.use(\n    express.json({\n      verify: (req, _res, buf) => {\n        req.rawBody = buf;\n      },\n    }),\n  );\n\n  app.use(express.urlencoded({ extended: false }));\n}\n\nfunction setupRequestLogging(app: express.Application) {\n  app.use((req, res, next) => {\n    const start = Date.now();\n    const path = req.path;\n    let capturedJsonResponse: Record<string, unknown> | undefined = undefined;\n\n    const originalResJson = res.json;\n    res.json = function (bodyJson, ...args) {\n      capturedJsonResponse = bodyJson;\n      return originalResJson.apply(res, [bodyJson, ...args]);\n    };\n\n    res.on(\"finish\", () => {\n      if (!path.startsWith(\"/api\")) return;\n\n      const duration = Date.now() - start;\n\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"â¦\";\n      }\n\n      log(logLine);\n    });\n\n    next();\n  });\n}\n\nfunction getAppName(): string {\n  try {\n    const appJsonPath = path.resolve(process.cwd(), \"app.json\");\n    const appJsonContent = fs.readFileSync(appJsonPath, \"utf-8\");\n    const appJson = JSON.parse(appJsonContent);\n    return appJson.expo?.name || \"App Landing Page\";\n  } catch {\n    return \"App Landing Page\";\n  }\n}\n\nfunction serveExpoManifest(platform: string, res: Response) {\n  const manifestPath = path.resolve(\n    process.cwd(),\n    \"static-build\",\n    platform,\n    \"manifest.json\",\n  );\n\n  if (!fs.existsSync(manifestPath)) {\n    return res\n      .status(404)\n      .json({ error: `Manifest not found for platform: ${platform}` });\n  }\n\n  res.setHeader(\"expo-protocol-version\", \"1\");\n  res.setHeader(\"expo-sfv-version\", \"0\");\n  res.setHeader(\"content-type\", \"application/json\");\n\n  const manifest = fs.readFileSync(manifestPath, \"utf-8\");\n  res.send(manifest);\n}\n\nfunction serveLandingPage({\n  req,\n  res,\n  landingPageTemplate,\n  appName,\n}: {\n  req: Request;\n  res: Response;\n  landingPageTemplate: string;\n  appName: string;\n}) {\n  const forwardedProto = req.header(\"x-forwarded-proto\");\n  const protocol = forwardedProto || req.protocol || \"https\";\n  const forwardedHost = req.header(\"x-forwarded-host\");\n  const host = forwardedHost || req.get(\"host\");\n  const baseUrl = `${protocol}://${host}`;\n  const expsUrl = `${host}`;\n\n  log(`baseUrl`, baseUrl);\n  log(`expsUrl`, expsUrl);\n\n  const html = landingPageTemplate\n    .replace(/BASE_URL_PLACEHOLDER/g, baseUrl)\n    .replace(/EXPS_URL_PLACEHOLDER/g, expsUrl)\n    .replace(/APP_NAME_PLACEHOLDER/g, appName);\n\n  res.setHeader(\"Content-Type\", \"text/html; charset=utf-8\");\n  res.status(200).send(html);\n}\n\nfunction configureExpoAndLanding(app: express.Application) {\n  const templatePath = path.resolve(\n    process.cwd(),\n    \"server\",\n    \"templates\",\n    \"landing-page.html\",\n  );\n  const landingPageTemplate = fs.readFileSync(templatePath, \"utf-8\");\n  const appName = getAppName();\n\n  log(\"Serving static Expo files with dynamic manifest routing\");\n\n  app.use((req: Request, res: Response, next: NextFunction) => {\n    if (req.path.startsWith(\"/api\")) {\n      return next();\n    }\n\n    if (req.path !== \"/\" && req.path !== \"/manifest\") {\n      return next();\n    }\n\n    const platform = req.header(\"expo-platform\");\n    if (platform && (platform === \"ios\" || platform === \"android\")) {\n      return serveExpoManifest(platform, res);\n    }\n\n    if (req.path === \"/\") {\n      return serveLandingPage({\n        req,\n        res,\n        landingPageTemplate,\n        appName,\n      });\n    }\n\n    next();\n  });\n\n  app.use(\"/assets\", express.static(path.resolve(process.cwd(), \"assets\")));\n  app.use(express.static(path.resolve(process.cwd(), \"static-build\")));\n\n  log(\"Expo routing: Checking expo-platform header on / and /manifest\");\n}\n\nfunction setupErrorHandler(app: express.Application) {\n  app.use((err: unknown, _req: Request, res: Response, _next: NextFunction) => {\n    const error = err as {\n      status?: number;\n      statusCode?: number;\n      message?: string;\n    };\n\n    const status = error.status || error.statusCode || 500;\n    const message = error.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n\n    throw err;\n  });\n}\n\n(async () => {\n  setupCors(app);\n  setupBodyParsing(app);\n  setupRequestLogging(app);\n\n  configureExpoAndLanding(app);\n\n  const server = await registerRoutes(app);\n\n  setupErrorHandler(app);\n\n  const port = parseInt(process.env.PORT || \"5000\", 10);\n  server.listen(\n    {\n      port,\n      host: \"0.0.0.0\",\n      reusePort: true,\n    },\n    () => {\n      log(`express server serving on port ${port}`);\n    },\n  );\n})();\n","path":null,"size_bytes":5949,"size_tokens":null},"server/storage.ts":{"content":"import { type User, type InsertUser } from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\n\n// modify the interface with any CRUD methods\n// you might need\n\nexport interface IStorage {\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<string, User>;\n\n  constructor() {\n    this.users = new Map();\n  }\n\n  async getUser(id: string): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.username === username,\n    );\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = randomUUID();\n    const user: User = { ...insertUser, id };\n    this.users.set(id, user);\n    return user;\n  }\n}\n\nexport const storage = new MemStorage();\n","path":null,"size_bytes":993,"size_tokens":null},"design_guidelines.md":{"content":"# Design Guidelines for Spinal Hub\n\n## Project Context\nSpinal Hub is a personal health and daily management application designed specifically for a **C5 quadriplegic user**. Accessibility, clarity, and simplicity are paramount. Every design decision must prioritize ease of use for users with limited fine motor control.\n\n## Architecture Decisions\n\n### Authentication\n**No Authentication Required**\n- This is a single-user, personal management app with local data storage\n- Include a **Settings/Profile screen** with:\n  - User-customizable display name\n  - App preferences (theme selection, voice settings)\n  - Accessibility options\n\n### Navigation\n**Stack-Only Navigation**\n- Use React Navigation Native Stack\n- Two primary screens:\n  1. **Dashboard** (root)\n  2. **CategoryDetail** (pushed from category selection)\n- Navigation must be simple and predictable with clear back buttons\n- Typed navigation params: `CategoryDetail` receives `{ category: string; title: string }`\n\n## Screen Specifications\n\n### 1. Dashboard Screen\n\n**Purpose:** Primary hub for accessing all health and life management categories\n\n**Layout:**\n- **Header:** \n  - Transparent background\n  - Title: \"Spinal Hub\"\n  - Right button: Settings/Profile icon\n  - Top inset: `insets.top + Spacing.xl`\n\n- **Main Content Area:**\n  - Scrollable root view (SafeAreaView)\n  - 3-column grid layout of category tiles\n  - Categories (in order):\n    1. Daily Routine\n    2. Health Tracking\n    3. Care & Support\n    4. Appointments\n    5. Life Management\n    6. Custom Tools\n  - Bottom padding: `Spacing.xl` (no tab bar)\n\n- **Floating Elements:**\n  1. **Microphone Button** (bottom center)\n     - Circular, large touch target (minimum 80x80pt)\n     - Fixed position above bottom safe area\n     - Position: bottom inset of `insets.bottom + Spacing.xl`\n     - Pulse animation when listening state is active\n     - Drop shadow specifications:\n       - shadowOffset: { width: 0, height: 2 }\n       - shadowOpacity: 0.10\n       - shadowRadius: 2\n  \n  2. **Voice Status Bar** (conditionally rendered)\n     - Appears above microphone when listening\n     - Shows listening indicator or voice feedback text\n     - Subtle background with text-to-speech output\n\n**Components Needed:**\n- CategoryTile (6 instances)\n- VoiceButton (floating)\n- Voice status indicator\n- ThemedText components\n\n**Safe Area Insets:**\n- Top: `headerHeight + Spacing.xl`\n- Bottom: `insets.bottom + Spacing.xl`\n- Horizontal: `Spacing.xl`\n\n### 2. Category Detail Screen\n\n**Purpose:** Display tools and options within a selected category\n\n**Layout:**\n- **Header:**\n  - Default navigation header (not transparent)\n  - Title: Category name (dynamic)\n  - Left button: Back button (automatic)\n  - Top inset: Standard (header handles safe area)\n\n- **Main Content Area:**\n  - List view (FlatList or ScrollView)\n  - Placeholder list items for future tools\n  - Top padding: `Spacing.xl`\n  - Bottom padding: `insets.bottom + Spacing.xl`\n\n**Components Needed:**\n- List items (placeholder)\n- ThemedText components\n\n**Safe Area Insets:**\n- Top: `Spacing.xl` (header is opaque)\n- Bottom: `insets.bottom + Spacing.xl`\n\n## Design System\n\n### Color Palette\n\n**Light Theme:**\n- Primary: Calming blue (#007AFF or similar accessible color)\n- Background: White (#FFFFFF)\n- Surface: Light gray (#F5F5F5)\n- Text Primary: Dark gray/Black (#000000)\n- Text Secondary: Medium gray (#666666)\n- Border: Light gray (#E0E0E0)\n- Success: Green (for positive health indicators)\n- Warning: Orange (for reminders)\n- Error: Red (for alerts)\n\n**Dark Theme:**\n- Primary: Lighter blue (accessible contrast)\n- Background: True black (#000000) or dark gray (#121212)\n- Surface: Dark gray (#1E1E1E)\n- Text Primary: White (#FFFFFF)\n- Text Secondary: Light gray (#B0B0B0)\n- Border: Dark gray (#333333)\n- Success/Warning/Error: Adjusted for dark mode contrast\n\n### Typography\n\n**Font Family:** System default (San Francisco on iOS)\n\n**Sizes:**\n- Title: 28-32pt (large, bold)\n- Heading: 20-24pt (semibold)\n- Body: 16-18pt (regular) - **larger than standard for accessibility**\n- Caption: 14pt (regular)\n\n**All text must meet WCAG AA contrast ratios (4.5:1 for normal text)**\n\n### Spacing System\n- xs: 4pt\n- sm: 8pt\n- md: 16pt\n- lg: 24pt\n- xl: 32pt\n- xxl: 48pt\n\n### Border Radius\n- Small: 8pt (buttons, inputs)\n- Medium: 12pt (cards, tiles)\n- Large: 20pt (floating button)\n- Full: 9999pt (circular elements)\n\n### Component Specifications\n\n#### Category Tile\n- **Size:** Square or near-square, minimum 100x100pt touch target\n- **Visual Design:**\n  - Icon at top (Feather icons from @expo/vector-icons, 32-40pt size)\n  - Label below icon (16-18pt, semibold)\n  - Background: Surface color with subtle border\n  - Border radius: Medium (12pt)\n  - NO drop shadow (keep clean)\n- **Interaction:**\n  - Press animation: Scale down to 0.95 with opacity 0.8\n  - Animated using Reanimated (smooth, 200ms duration)\n  - Clear visual feedback on press\n- **Accessibility:**\n  - `accessibilityRole=\"button\"`\n  - `accessibilityLabel` with category name and hint: \"Opens {category}\"\n\n#### Voice Button\n- **Size:** 80x80pt minimum (large touch target)\n- **Visual Design:**\n  - Circular (border radius: full)\n  - Primary color background\n  - Microphone icon (white, 32pt)\n  - Drop shadow (as specified above)\n- **States:**\n  - Default: Solid background\n  - Listening: Pulse animation (scale 1.0 to 1.1, infinite loop, 1s duration)\n  - Disabled: Reduced opacity (0.5)\n- **Accessibility:**\n  - `accessibilityLabel=\"Voice Control\"`\n  - `accessibilityRole=\"button\"`\n  - `accessibilityHint=\"Tap to start voice commands\"`\n\n#### Themed Text\n- Automatically adapts color based on theme (light/dark)\n- Supports variants: title, heading, body, caption\n- All text must be selectable for screen reader compatibility\n\n### Visual Design\n\n**Icons:**\n- Use Feather icons from `@expo/vector-icons` exclusively\n- Icon suggestions for categories:\n  - Daily Routine: `sun` or `home`\n  - Health Tracking: `activity` or `heart`\n  - Care & Support: `users` or `shield`\n  - Appointments: `calendar`\n  - Life Management: `briefcase` or `list`\n  - Custom Tools: `tool` or `settings`\n\n**No Custom Assets Required:**\n- Use system icons for all UI elements\n- NO decorative imagery\n- Focus on clarity and functionality\n\n### Interaction Design\n\n**All touchable components must:**\n1. Have a minimum 44x44pt touch target (Apple HIG)\n2. Provide immediate visual feedback on press\n3. Use scale/opacity animations (NOT color changes which may be subtle)\n4. Have clear accessibility labels\n5. Work with VoiceOver/TalkBack screen readers\n\n**Gestures:**\n- Single tap only (no swipes, long presses, or complex gestures)\n- Large, easy-to-hit targets throughout\n\n### Accessibility Requirements\n\n**Critical for C5 Quadriplegic Users:**\n1. **Large Touch Targets:** Minimum 80x80pt for primary actions\n2. **High Contrast:** All text meets WCAG AA (4.5:1) or AAA (7:1) standards\n3. **Screen Reader Support:**\n   - All interactive elements have `accessibilityLabel`\n   - All tiles have `accessibilityRole=\"button\"`\n   - Voice button has clear state announcements\n4. **Voice Control:**\n   - Primary interaction method\n   - Text-to-speech feedback using `expo-speech`\n   - Clear listening state indicators\n5. **No Fine Motor Requirements:**\n   - No drag gestures\n   - No tiny buttons\n   - No precise tapping required\n6. **Keyboard/Switch Control Compatible:**\n   - Proper focus order\n   - All actions accessible via assistive technologies\n\n**Voice System UX:**\n- Microphone button always visible and accessible\n- Clear visual + audio feedback when listening\n- Voice status bar shows system state\n- Text-to-speech confirms actions\n\n### Theme System\n- Support both light and dark modes\n- User preference stored locally\n- Smooth theme transitions\n- `useTheme()` hook provides current theme throughout app\n- All components must adapt to both themes automatically","path":null,"size_bytes":7861,"size_tokens":null},"client/scripts/build.js":{"content":"const fs = require(\"fs\");\nconst path = require(\"path\");\nconst { spawn } = require(\"child_process\");\nconst { Readable } = require(\"stream\");\nconst { pipeline } = require(\"stream/promises\");\n\nlet metroProcess = null;\n\nfunction exitWithError(message) {\n  console.error(message);\n  if (metroProcess) {\n    metroProcess.kill();\n  }\n  process.exit(1);\n}\n\nfunction setupSignalHandlers() {\n  const cleanup = () => {\n    if (metroProcess) {\n      console.log(\"Cleaning up Metro process...\");\n      metroProcess.kill();\n    }\n    process.exit(0);\n  };\n\n  process.on(\"SIGINT\", cleanup);\n  process.on(\"SIGTERM\", cleanup);\n  process.on(\"SIGHUP\", cleanup);\n}\n\nfunction getDeploymentUrl() {\n  if (process.env.REPLIT_INTERNAL_APP_DOMAIN) {\n    const url = `https://${process.env.REPLIT_INTERNAL_APP_DOMAIN}`;\n    console.log(\"Using REPLIT_INTERNAL_APP_DOMAIN:\", url);\n    return url;\n  }\n\n  if (process.env.REPLIT_DEV_DOMAIN) {\n    const url = `https://${process.env.REPLIT_DEV_DOMAIN}`;\n    console.log(\"Using REPLIT_DEV_DOMAIN:\", url);\n    return url;\n  }\n\n  console.error(\n    \"ERROR: REPLIT_INTERNAL_APP_DOMAIN and REPLIT_DEV_DOMAIN not set\",\n  );\n  process.exit(1);\n}\n\nfunction prepareDirectories(timestamp) {\n  console.log(\"Preparing build directories...\");\n\n  if (fs.existsSync(\"static-build\")) {\n    fs.rmSync(\"static-build\", { recursive: true });\n  }\n\n  const dirs = [\n    path.join(\"static-build\", timestamp, \"_expo\", \"static\", \"js\", \"ios\"),\n    path.join(\"static-build\", timestamp, \"_expo\", \"static\", \"js\", \"android\"),\n    path.join(\"static-build\", \"ios\"),\n    path.join(\"static-build\", \"android\"),\n  ];\n\n  for (const dir of dirs) {\n    fs.mkdirSync(dir, { recursive: true });\n  }\n\n  console.log(\"Build:\", timestamp);\n}\n\nfunction clearMetroCache() {\n  console.log(\"Clearing Metro cache...\");\n\n  const cacheDirs = [\n    ...fs.globSync(\".metro-cache\"),\n    ...fs.globSync(\"node_modules/.cache/metro\"),\n  ];\n\n  for (const dir of cacheDirs) {\n    fs.rmSync(dir, { recursive: true, force: true });\n  }\n\n  console.log(\"Cache cleared\");\n}\n\nasync function checkMetroHealth() {\n  try {\n    const response = await fetch(\"http://localhost:8081/status\", {\n      signal: AbortSignal.timeout(5000),\n    });\n    return response.ok;\n  } catch {\n    return false;\n  }\n}\n\nasync function startMetro() {\n  const isRunning = await checkMetroHealth();\n  if (isRunning) {\n    console.log(\"Metro already running\");\n    return;\n  }\n\n  console.log(\"Starting Metro...\");\n  metroProcess = spawn(\"npm\", [\"run\", \"expo:start:static:build\"], {\n    stdio: [\"ignore\", \"pipe\", \"pipe\"],\n    detached: false,\n  });\n\n  if (metroProcess.stdout) {\n    metroProcess.stdout.on(\"data\", (data) => {\n      const output = data.toString().trim();\n      if (output) console.log(`[Metro] ${output}`);\n    });\n  }\n  if (metroProcess.stderr) {\n    metroProcess.stderr.on(\"data\", (data) => {\n      const output = data.toString().trim();\n      if (output) console.error(`[Metro Error] ${output}`);\n    });\n  }\n\n  for (let i = 0; i < 60; i++) {\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n\n    const healthy = await checkMetroHealth();\n    if (healthy) {\n      console.log(\"Metro ready\");\n      return;\n    }\n  }\n\n  console.error(\"Metro timeout\");\n  process.exit(1);\n}\n\nasync function downloadFile(url, outputPath) {\n  const controller = new AbortController();\n  const timeoutId = setTimeout(() => controller.abort(), 120_000);\n\n  try {\n    console.log(`Downloading: ${url}`);\n    const response = await fetch(url, { signal: controller.signal });\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n\n    const file = fs.createWriteStream(outputPath);\n    await pipeline(Readable.fromWeb(response.body), file);\n\n    const fileSize = fs.statSync(outputPath).size;\n\n    if (fileSize === 0) {\n      fs.unlinkSync(outputPath);\n      throw new Error(\"Downloaded file is empty\");\n    }\n  } catch (error) {\n    if (fs.existsSync(outputPath)) {\n      fs.unlinkSync(outputPath);\n    }\n\n    if (error.name === \"AbortError\") {\n      throw new Error(`Download timeout after 2m: ${url}`);\n    }\n    throw error;\n  } finally {\n    clearTimeout(timeoutId);\n  }\n}\n\nasync function downloadBundle(platform, timestamp) {\n  const url = new URL(\"http://localhost:8081/client/index.bundle\");\n  url.searchParams.set(\"platform\", platform);\n  url.searchParams.set(\"dev\", \"false\");\n  url.searchParams.set(\"hot\", \"false\");\n  url.searchParams.set(\"lazy\", \"false\");\n  url.searchParams.set(\"minify\", \"true\");\n\n  const output = path.join(\n    \"static-build\",\n    timestamp,\n    \"_expo\",\n    \"static\",\n    \"js\",\n    platform,\n    \"bundle.js\",\n  );\n\n  console.log(`Fetching ${platform} bundle...`);\n  await downloadFile(url.toString(), output);\n  console.log(`${platform} bundle ready`);\n}\n\nasync function downloadManifest(platform) {\n  const controller = new AbortController();\n  const timeoutId = setTimeout(() => controller.abort(), 300_000);\n\n  try {\n    console.log(`Fetching ${platform} manifest...`);\n    const response = await fetch(\"http://localhost:8081/manifest\", {\n      headers: { \"expo-platform\": platform },\n      signal: controller.signal,\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n\n    const manifest = await response.json();\n    console.log(`${platform} manifest ready`);\n    return manifest;\n  } catch (error) {\n    if (error.name === \"AbortError\") {\n      throw new Error(\n        `Manifest download timeout after 5m for platform: ${platform}`,\n      );\n    }\n    throw error;\n  } finally {\n    clearTimeout(timeoutId);\n  }\n}\n\nasync function downloadBundlesAndManifests(timestamp) {\n  console.log(\"Downloading bundles and manifests...\");\n  console.log(\"This may take several minutes for production builds...\");\n\n  try {\n    const results = await Promise.allSettled([\n      downloadBundle(\"ios\", timestamp),\n      downloadBundle(\"android\", timestamp),\n      downloadManifest(\"ios\"),\n      downloadManifest(\"android\"),\n    ]);\n\n    const failures = results\n      .map((result, index) => ({ result, index }))\n      .filter(({ result }) => result.status === \"rejected\");\n\n    if (failures.length > 0) {\n      const errorMessages = failures.map(({ result, index }) => {\n        const names = [\n          \"iOS bundle\",\n          \"Android bundle\",\n          \"iOS manifest\",\n          \"Android manifest\",\n        ];\n        return `  - ${names[index]}: ${result.reason?.message || result.reason}`;\n      });\n\n      exitWithError(`Download failed:\\n${errorMessages.join(\"\\n\")}`);\n    }\n\n    const iosManifest =\n      results[2].status === \"fulfilled\" ? results[2].value : null;\n    const androidManifest =\n      results[3].status === \"fulfilled\" ? results[3].value : null;\n\n    console.log(\"All downloads completed successfully\");\n    return { ios: iosManifest, android: androidManifest };\n  } catch (error) {\n    exitWithError(`Unexpected download error: ${error.message}`);\n  }\n}\n\nfunction extractAssets(timestamp) {\n  const bundles = {\n    ios: fs.readFileSync(\n      path.join(\n        \"static-build\",\n        timestamp,\n        \"_expo\",\n        \"static\",\n        \"js\",\n        \"ios\",\n        \"bundle.js\",\n      ),\n      \"utf-8\",\n    ),\n    android: fs.readFileSync(\n      path.join(\n        \"static-build\",\n        timestamp,\n        \"_expo\",\n        \"static\",\n        \"js\",\n        \"android\",\n        \"bundle.js\",\n      ),\n      \"utf-8\",\n    ),\n  };\n\n  const assetsMap = new Map();\n  const assetPattern =\n    /httpServerLocation:\"([^\"]+)\"[^}]*hash:\"([^\"]+)\"[^}]*name:\"([^\"]+)\"[^}]*type:\"([^\"]+)\"/g;\n\n  const extractFromBundle = (bundle, platform) => {\n    for (const match of bundle.matchAll(assetPattern)) {\n      const originalPath = match[1];\n      const filename = match[3] + \".\" + match[4];\n\n      const tempUrl = new URL(`http://localhost:8081${originalPath}`);\n      const unstablePath = tempUrl.searchParams.get(\"unstable_path\");\n\n      if (!unstablePath) {\n        throw new Error(`Asset missing unstable_path: ${originalPath}`);\n      }\n\n      const decodedPath = decodeURIComponent(unstablePath);\n      const key = path.posix.join(decodedPath, filename);\n\n      if (!assetsMap.has(key)) {\n        const asset = {\n          url: path.posix.join(\"/\", decodedPath, filename),\n          originalPath: originalPath,\n          filename: filename,\n          relativePath: decodedPath,\n          hash: match[2],\n          platforms: new Set(),\n        };\n\n        assetsMap.set(key, asset);\n      }\n      assetsMap.get(key).platforms.add(platform);\n    }\n  };\n\n  extractFromBundle(bundles.ios, \"ios\");\n  extractFromBundle(bundles.android, \"android\");\n\n  return Array.from(assetsMap.values());\n}\n\nasync function downloadAssets(assets, timestamp) {\n  if (assets.length === 0) {\n    return 0;\n  }\n\n  console.log(\"Downloading assets...\");\n  let successCount = 0;\n  const failures = [];\n\n  const downloadPromises = assets.map(async (asset) => {\n    const platform = Array.from(asset.platforms)[0];\n\n    const tempUrl = new URL(`http://localhost:8081${asset.originalPath}`);\n    const unstablePath = tempUrl.searchParams.get(\"unstable_path\");\n\n    if (!unstablePath) {\n      throw new Error(`Asset missing unstable_path: ${asset.originalPath}`);\n    }\n\n    const decodedPath = decodeURIComponent(unstablePath);\n    const metroUrl = new URL(\n      `http://localhost:8081${path.posix.join(\"/assets\", decodedPath, asset.filename)}`,\n    );\n    metroUrl.searchParams.set(\"platform\", platform);\n    metroUrl.searchParams.set(\"hash\", asset.hash);\n\n    const outputDir = path.join(\n      \"static-build\",\n      timestamp,\n      \"_expo\",\n      \"static\",\n      \"js\",\n      asset.relativePath,\n    );\n    fs.mkdirSync(outputDir, { recursive: true });\n    const output = path.join(outputDir, asset.filename);\n\n    try {\n      await downloadFile(metroUrl.toString(), output);\n      successCount++;\n    } catch (error) {\n      failures.push({\n        filename: asset.filename,\n        error: error.message,\n        url: metroUrl.toString(),\n      });\n    }\n  });\n\n  await Promise.all(downloadPromises);\n\n  if (failures.length > 0) {\n    const errorMsg =\n      `Failed to download ${failures.length} asset(s):\\n` +\n      failures\n        .map((f) => `  - ${f.filename}: ${f.error} (${f.url})`)\n        .join(\"\\n\");\n    exitWithError(errorMsg);\n  }\n\n  console.log(`Downloaded ${successCount} assets`);\n  return successCount;\n}\n\nfunction updateBundleUrls(timestamp, baseUrl) {\n  const updateForPlatform = (platform) => {\n    const bundlePath = path.join(\n      \"static-build\",\n      timestamp,\n      \"_expo\",\n      \"static\",\n      \"js\",\n      platform,\n      \"bundle.js\",\n    );\n    let bundle = fs.readFileSync(bundlePath, \"utf-8\");\n\n    bundle = bundle.replace(\n      /httpServerLocation:\"(\\/[^\"]+)\"/g,\n      (_match, capturedPath) => {\n        const tempUrl = new URL(`http://localhost:8081${capturedPath}`);\n        const unstablePath = tempUrl.searchParams.get(\"unstable_path\");\n\n        if (!unstablePath) {\n          throw new Error(\n            `Asset missing unstable_path in bundle: ${capturedPath}`,\n          );\n        }\n\n        const decodedPath = decodeURIComponent(unstablePath);\n        return `httpServerLocation:\"${baseUrl}/${timestamp}/_expo/static/js/${decodedPath}\"`;\n      },\n    );\n\n    fs.writeFileSync(bundlePath, bundle);\n  };\n\n  updateForPlatform(\"ios\");\n  updateForPlatform(\"android\");\n  console.log(\"Updated bundle URLs\");\n}\n\nfunction updateManifests(manifests, timestamp, baseUrl, assetsByHash) {\n  const updateForPlatform = (platform, manifest) => {\n    if (!manifest.launchAsset || !manifest.extra) {\n      exitWithError(`Malformed manifest for ${platform}`);\n    }\n\n    manifest.launchAsset.url = `${baseUrl}/${timestamp}/_expo/static/js/${platform}/bundle.js`;\n    manifest.launchAsset.key = `bundle-${timestamp}`;\n    manifest.createdAt = new Date(\n      Number(timestamp.split(\"-\")[0]),\n    ).toISOString();\n    manifest.extra.expoClient.hostUri =\n      baseUrl.replace(\"https://\", \"\") + \"/\" + platform;\n    manifest.extra.expoGo.debuggerHost =\n      baseUrl.replace(\"https://\", \"\") + \"/\" + platform;\n    manifest.extra.expoGo.packagerOpts.dev = false;\n\n    if (manifest.assets && manifest.assets.length > 0) {\n      manifest.assets.forEach((asset) => {\n        if (!asset.url) return;\n\n        const hash = asset.hash;\n        if (!hash) return;\n\n        const assetInfo = assetsByHash.get(hash);\n        if (!assetInfo) return;\n\n        asset.url = `${baseUrl}/${timestamp}/_expo/static/js/${assetInfo.relativePath}/${assetInfo.filename}`;\n      });\n    }\n\n    fs.writeFileSync(\n      path.join(\"static-build\", platform, \"manifest.json\"),\n      JSON.stringify(manifest, null, 2),\n    );\n  };\n\n  updateForPlatform(\"ios\", manifests.ios);\n  updateForPlatform(\"android\", manifests.android);\n  console.log(\"Manifests updated\");\n}\n\nasync function main() {\n  console.log(\"Building static Expo Go deployment...\");\n\n  setupSignalHandlers();\n\n  const baseUrl = getDeploymentUrl();\n  const timestamp = `${Date.now()}-${process.pid}`;\n\n  prepareDirectories(timestamp);\n  clearMetroCache();\n\n  await startMetro();\n\n  const downloadTimeout = 300000;\n  const downloadPromise = downloadBundlesAndManifests(timestamp);\n  const timeoutPromise = new Promise((_, reject) => {\n    setTimeout(() => {\n      reject(\n        new Error(\n          `Overall download timeout after ${downloadTimeout / 1000} seconds. ` +\n            \"Metro may be struggling to generate bundles. Check Metro logs above.\",\n        ),\n      );\n    }, downloadTimeout);\n  });\n\n  const manifests = await Promise.race([downloadPromise, timeoutPromise]);\n\n  console.log(\"Processing assets...\");\n  const assets = extractAssets(timestamp);\n  console.log(\"Found\", assets.length, \"unique asset(s)\");\n\n  const assetsByHash = new Map();\n  for (const asset of assets) {\n    assetsByHash.set(asset.hash, {\n      relativePath: asset.relativePath,\n      filename: asset.filename,\n    });\n  }\n\n  const assetCount = await downloadAssets(assets, timestamp);\n\n  if (assetCount > 0) {\n    updateBundleUrls(timestamp, baseUrl);\n  }\n\n  console.log(\"Updating manifests and creating landing page...\");\n  updateManifests(manifests, timestamp, baseUrl, assetsByHash);\n\n  console.log(\"Build complete! Deploy to:\", baseUrl);\n\n  if (metroProcess) {\n    metroProcess.kill();\n  }\n  process.exit(0);\n}\n\nmain().catch((error) => {\n  console.error(\"Build failed:\", error.message);\n  if (metroProcess) {\n    metroProcess.kill();\n  }\n  process.exit(1);\n});\n","path":null,"size_bytes":14413,"size_tokens":null},"client/lib/query-client.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\n/**\n * Gets the base URL for the Express API server (e.g., \"http://localhost:3000\")\n * @returns {string} The API base URL\n */\nexport function getApiUrl(): string {\n  let host = process.env.EXPO_PUBLIC_DOMAIN;\n\n  if (!host) {\n    throw new Error(\"EXPO_PUBLIC_DOMAIN is not set\");\n  }\n\n  let url = new URL(`https://${host}`);\n\n  return url.href;\n}\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  route: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const baseUrl = getApiUrl();\n  const url = new URL(route, baseUrl);\n\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const baseUrl = getApiUrl();\n    const url = new URL(queryKey.join(\"/\") as string, baseUrl);\n\n    const res = await fetch(url, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1876,"size_tokens":null},"client/types/navigation.ts":{"content":"export type MainStackParamList = {\n  Dashboard: undefined;\n  CategoryDetail: {\n    category: string;\n    title: string;\n  };\n  Settings: undefined;\n  VitalsLog: undefined;\n  PainJournal: undefined;\n  MedicationTracker: undefined;\n  MorningRoutine: undefined;\n  EveningRoutine: undefined;\n  HydrationTracker: undefined;\n  AppointmentScheduler: undefined;\n  EmergencyContacts: undefined;\n};\n\ndeclare global {\n  namespace ReactNavigation {\n    interface RootParamList extends MainStackParamList {}\n  }\n}\n","path":null,"size_bytes":501,"size_tokens":null},"client/screens/tools/AppointmentSchedulerScreen.tsx":{"content":"import React, { useState, useEffect, useCallback } from \"react\";\nimport { View, StyleSheet, FlatList, Pressable, TextInput, Modal } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Button } from \"@/components/Button\";\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport { storage, Appointment, generateId, formatDate } from \"@/lib/storage\";\n\nconst APPOINTMENT_TYPES = [\n  { key: \"doctor\", label: \"Doctor Visit\", icon: \"user\" as const },\n  { key: \"therapy\", label: \"Therapy\", icon: \"activity\" as const },\n  { key: \"equipment\", label: \"Equipment\", icon: \"tool\" as const },\n  { key: \"other\", label: \"Other\", icon: \"calendar\" as const },\n];\n\nexport default function AppointmentSchedulerScreen() {\n  const insets = useSafeAreaInsets();\n  const { theme } = useTheme();\n  const [appointments, setAppointments] = useState<Appointment[]>([]);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [title, setTitle] = useState(\"\");\n  const [selectedType, setSelectedType] = useState<\"doctor\" | \"therapy\" | \"equipment\" | \"other\">(\"doctor\");\n  const [date, setDate] = useState(formatDate(new Date()));\n  const [time, setTime] = useState(\"9:00 AM\");\n  const [location, setLocation] = useState(\"\");\n  const [notes, setNotes] = useState(\"\");\n\n  const loadData = useCallback(async () => {\n    const data = await storage.appointments.getUpcoming();\n    setAppointments(data || []);\n  }, []);\n\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  const handleSave = async () => {\n    const appointment: Appointment = {\n      id: generateId(),\n      title,\n      type: selectedType,\n      date,\n      time,\n      location: location || undefined,\n      notes: notes || undefined,\n      reminder: true,\n    };\n    await storage.appointments.add(appointment);\n    await loadData();\n    setModalVisible(false);\n    resetForm();\n  };\n\n  const resetForm = () => {\n    setTitle(\"\");\n    setSelectedType(\"doctor\");\n    setDate(formatDate(new Date()));\n    setTime(\"9:00 AM\");\n    setLocation(\"\");\n    setNotes(\"\");\n  };\n\n  const handleDelete = async (id: string) => {\n    await storage.appointments.delete(id);\n    await loadData();\n  };\n\n  const getTypeInfo = (type: string) => {\n    return APPOINTMENT_TYPES.find((t) => t.key === type) || APPOINTMENT_TYPES[3];\n  };\n\n  const formatDisplayDate = (dateStr: string) => {\n    const date = new Date(dateStr);\n    return date.toLocaleDateString(\"en-US\", { \n      weekday: \"short\", \n      month: \"short\", \n      day: \"numeric\" \n    });\n  };\n\n  const isToday = (dateStr: string) => {\n    return dateStr === formatDate(new Date());\n  };\n\n  const isTomorrow = (dateStr: string) => {\n    const tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    return dateStr === formatDate(tomorrow);\n  };\n\n  const renderAppointment = ({ item }: { item: Appointment }) => {\n    const typeInfo = getTypeInfo(item.type);\n    const dateLabel = isToday(item.date) \n      ? \"Today\" \n      : isTomorrow(item.date) \n        ? \"Tomorrow\" \n        : formatDisplayDate(item.date);\n\n    return (\n      <View style={[styles.appointmentCard, { backgroundColor: theme.backgroundDefault }]}>\n        <View style={[styles.typeIcon, { backgroundColor: theme.primary + \"20\" }]}>\n          <Feather name={typeInfo.icon} size={24} color={theme.primary} />\n        </View>\n        <View style={styles.appointmentContent}>\n          <ThemedText type=\"h4\">{item.title}</ThemedText>\n          <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n            {typeInfo.label}\n          </ThemedText>\n          <View style={styles.appointmentDetails}>\n            <View style={styles.detailRow}>\n              <Feather name=\"calendar\" size={14} color={theme.textSecondary} />\n              <ThemedText type=\"small\" style={{ color: theme.primary }}>\n                {dateLabel}\n              </ThemedText>\n            </View>\n            <View style={styles.detailRow}>\n              <Feather name=\"clock\" size={14} color={theme.textSecondary} />\n              <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                {item.time}\n              </ThemedText>\n            </View>\n          </View>\n          {item.location ? (\n            <View style={styles.detailRow}>\n              <Feather name=\"map-pin\" size={14} color={theme.textSecondary} />\n              <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                {item.location}\n              </ThemedText>\n            </View>\n          ) : null}\n        </View>\n        <Pressable\n          onPress={() => handleDelete(item.id)}\n          style={[styles.deleteButton, { backgroundColor: theme.error + \"20\" }]}\n          accessible\n          accessibilityLabel={`Delete ${item.title} appointment`}\n          accessibilityRole=\"button\"\n        >\n          <Feather name=\"trash-2\" size={18} color={theme.error} />\n        </Pressable>\n      </View>\n    );\n  };\n\n  return (\n    <ThemedView style={styles.container}>\n      <FlatList\n        data={appointments}\n        renderItem={renderAppointment}\n        keyExtractor={(item) => item.id}\n        contentContainerStyle={[\n          styles.listContent,\n          { paddingBottom: insets.bottom + 100 },\n        ]}\n        ListEmptyComponent={\n          <View style={styles.emptyContainer}>\n            <Feather name=\"calendar\" size={48} color={theme.textSecondary} />\n            <ThemedText type=\"body\" style={{ textAlign: \"center\", marginTop: Spacing.md }}>\n              No upcoming appointments.{\"\\n\"}Tap below to schedule one.\n            </ThemedText>\n          </View>\n        }\n      />\n\n      <View style={[styles.fabContainer, { bottom: insets.bottom + Spacing.xl }]}>\n        <Pressable\n          onPress={() => setModalVisible(true)}\n          style={[styles.fab, { backgroundColor: theme.primary }]}\n          accessible\n          accessibilityLabel=\"Add appointment\"\n          accessibilityRole=\"button\"\n        >\n          <ThemedText type=\"h3\" style={{ color: \"#FFFFFF\" }}>+</ThemedText>\n        </Pressable>\n      </View>\n\n      <Modal\n        visible={modalVisible}\n        animationType=\"slide\"\n        presentationStyle=\"pageSheet\"\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <View style={[styles.modalContainer, { backgroundColor: theme.backgroundRoot }]}>\n          <View style={styles.modalHeader}>\n            <ThemedText type=\"h3\">New Appointment</ThemedText>\n            <Pressable onPress={() => setModalVisible(false)}>\n              <ThemedText type=\"body\" style={{ color: theme.primary }}>Cancel</ThemedText>\n            </Pressable>\n          </View>\n\n          <KeyboardAwareScrollViewCompat\n            style={styles.modalScroll}\n            contentContainerStyle={styles.modalScrollContent}\n          >\n            <View style={styles.formGroup}>\n              <ThemedText type=\"body\" style={styles.label}>Title</ThemedText>\n              <TextInput\n                value={title}\n                onChangeText={setTitle}\n                placeholder=\"e.g., Dr. Smith checkup\"\n                placeholderTextColor={theme.textSecondary}\n                style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                accessible\n                accessibilityLabel=\"Appointment title\"\n              />\n            </View>\n\n            <View style={styles.formGroup}>\n              <ThemedText type=\"body\" style={styles.label}>Type</ThemedText>\n              <View style={styles.typeSelector}>\n                {APPOINTMENT_TYPES.map((type) => (\n                  <Pressable\n                    key={type.key}\n                    onPress={() => setSelectedType(type.key as typeof selectedType)}\n                    style={[\n                      styles.typeButton,\n                      { backgroundColor: selectedType === type.key ? theme.primary : theme.backgroundDefault },\n                    ]}\n                    accessible\n                    accessibilityLabel={type.label}\n                    accessibilityState={{ selected: selectedType === type.key }}\n                  >\n                    <Feather\n                      name={type.icon}\n                      size={20}\n                      color={selectedType === type.key ? \"#FFFFFF\" : theme.text}\n                    />\n                    <ThemedText\n                      type=\"small\"\n                      style={{ color: selectedType === type.key ? \"#FFFFFF\" : theme.text }}\n                    >\n                      {type.label}\n                    </ThemedText>\n                  </Pressable>\n                ))}\n              </View>\n            </View>\n\n            <View style={styles.row}>\n              <View style={[styles.formGroup, { flex: 1 }]}>\n                <ThemedText type=\"body\" style={styles.label}>Date</ThemedText>\n                <TextInput\n                  value={date}\n                  onChangeText={setDate}\n                  placeholder=\"YYYY-MM-DD\"\n                  placeholderTextColor={theme.textSecondary}\n                  style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                  accessible\n                  accessibilityLabel=\"Date\"\n                />\n              </View>\n              <View style={[styles.formGroup, { flex: 1 }]}>\n                <ThemedText type=\"body\" style={styles.label}>Time</ThemedText>\n                <TextInput\n                  value={time}\n                  onChangeText={setTime}\n                  placeholder=\"9:00 AM\"\n                  placeholderTextColor={theme.textSecondary}\n                  style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                  accessible\n                  accessibilityLabel=\"Time\"\n                />\n              </View>\n            </View>\n\n            <View style={styles.formGroup}>\n              <ThemedText type=\"body\" style={styles.label}>Location (optional)</ThemedText>\n              <TextInput\n                value={location}\n                onChangeText={setLocation}\n                placeholder=\"e.g., Medical Center, Room 201\"\n                placeholderTextColor={theme.textSecondary}\n                style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                accessible\n                accessibilityLabel=\"Location\"\n              />\n            </View>\n\n            <View style={styles.formGroup}>\n              <ThemedText type=\"body\" style={styles.label}>Notes (optional)</ThemedText>\n              <TextInput\n                value={notes}\n                onChangeText={setNotes}\n                placeholder=\"Any additional notes...\"\n                placeholderTextColor={theme.textSecondary}\n                multiline\n                style={[styles.input, styles.notesInput, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                accessible\n                accessibilityLabel=\"Notes\"\n              />\n            </View>\n\n            <Button onPress={handleSave} style={styles.saveButton}>\n              Save Appointment\n            </Button>\n          </KeyboardAwareScrollViewCompat>\n        </View>\n      </Modal>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  listContent: {\n    paddingTop: Spacing.lg,\n    paddingHorizontal: Spacing.lg,\n    gap: Spacing.md,\n  },\n  appointmentCard: {\n    flexDirection: \"row\",\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.medium,\n    gap: Spacing.md,\n    alignItems: \"flex-start\",\n  },\n  typeIcon: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  appointmentContent: {\n    flex: 1,\n    gap: Spacing.xs,\n  },\n  appointmentDetails: {\n    flexDirection: \"row\",\n    gap: Spacing.md,\n    marginTop: Spacing.xs,\n  },\n  detailRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.xs,\n  },\n  deleteButton: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  emptyContainer: {\n    paddingTop: Spacing.xxl,\n    alignItems: \"center\",\n  },\n  fabContainer: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    alignItems: \"center\",\n  },\n  fab: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  modalContainer: {\n    flex: 1,\n    paddingTop: Spacing.xxl,\n  },\n  modalHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.xl,\n    marginBottom: Spacing.lg,\n  },\n  modalScroll: {\n    flex: 1,\n  },\n  modalScrollContent: {\n    paddingHorizontal: Spacing.xl,\n    paddingBottom: Spacing.xxl,\n  },\n  formGroup: {\n    marginBottom: Spacing.lg,\n  },\n  label: {\n    marginBottom: Spacing.sm,\n  },\n  input: {\n    height: 56,\n    borderRadius: BorderRadius.medium,\n    paddingHorizontal: Spacing.md,\n    fontSize: 18,\n  },\n  notesInput: {\n    height: 80,\n    paddingTop: Spacing.md,\n    textAlignVertical: \"top\",\n  },\n  typeSelector: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: Spacing.sm,\n  },\n  typeButton: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.sm,\n    paddingVertical: Spacing.sm,\n    paddingHorizontal: Spacing.md,\n    borderRadius: BorderRadius.medium,\n    minHeight: 48,\n  },\n  row: {\n    flexDirection: \"row\",\n    gap: Spacing.md,\n  },\n  saveButton: {\n    marginTop: Spacing.lg,\n  },\n});\n","path":null,"size_bytes":13805,"size_tokens":null},"client/components/CategoryTile.tsx":{"content":"import React from \"react\";\nimport { StyleSheet, Pressable, ViewStyle } from \"react-native\";\nimport { Feather } from \"@expo/vector-icons\";\nimport Animated, {\n  useAnimatedStyle,\n  useSharedValue,\n  withSpring,\n  WithSpringConfig,\n} from \"react-native-reanimated\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\n\ninterface CategoryTileProps {\n  title: string;\n  icon: keyof typeof Feather.glyphMap;\n  onPress: () => void;\n  style?: ViewStyle;\n}\n\nconst springConfig: WithSpringConfig = {\n  damping: 15,\n  mass: 0.3,\n  stiffness: 150,\n  overshootClamping: true,\n  energyThreshold: 0.001,\n};\n\nconst AnimatedPressable = Animated.createAnimatedComponent(Pressable);\n\nexport function CategoryTile({ title, icon, onPress, style }: CategoryTileProps) {\n  const { theme } = useTheme();\n  const scale = useSharedValue(1);\n  const opacity = useSharedValue(1);\n\n  const animatedStyle = useAnimatedStyle(() => ({\n    transform: [{ scale: scale.value }],\n    opacity: opacity.value,\n  }));\n\n  const handlePressIn = () => {\n    scale.value = withSpring(0.95, springConfig);\n    opacity.value = withSpring(0.8, springConfig);\n  };\n\n  const handlePressOut = () => {\n    scale.value = withSpring(1, springConfig);\n    opacity.value = withSpring(1, springConfig);\n  };\n\n  return (\n    <AnimatedPressable\n      onPress={onPress}\n      onPressIn={handlePressIn}\n      onPressOut={handlePressOut}\n      style={[\n        styles.tile,\n        { backgroundColor: theme.backgroundDefault, borderColor: theme.border },\n        animatedStyle,\n        style,\n      ]}\n      accessible\n      accessibilityRole=\"button\"\n      accessibilityLabel={title}\n      accessibilityHint={`Opens ${title}`}\n    >\n      <Feather\n        name={icon}\n        size={36}\n        color={theme.primary}\n        style={styles.icon}\n      />\n      <ThemedText type=\"body\" style={styles.label} numberOfLines={2}>\n        {title}\n      </ThemedText>\n    </AnimatedPressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  tile: {\n    width: \"31%\",\n    aspectRatio: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: BorderRadius.medium,\n    borderWidth: 1,\n    padding: Spacing.sm,\n  },\n  icon: {\n    marginBottom: Spacing.sm,\n  },\n  label: {\n    textAlign: \"center\",\n    fontWeight: \"600\",\n  },\n});\n","path":null,"size_bytes":2381,"size_tokens":null},"client/screens/DashboardScreen.tsx":{"content":"import React, { useCallback } from \"react\";\nimport { View, StyleSheet, ScrollView } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useHeaderHeight } from \"@react-navigation/elements\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\n\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { CategoryTile } from \"@/components/CategoryTile\";\nimport { Spacing } from \"@/constants/theme\";\nimport { MainStackParamList } from \"@/types/navigation\";\nimport { CATEGORIES } from \"@/config/catalog\"\n\n\nexport default function DashboardScreen() {\n  const navigation = useNavigation<NativeStackNavigationProp<MainStackParamList>>();\n  const insets = useSafeAreaInsets();\n  const headerHeight = useHeaderHeight();\n\n  const handleCategoryPress = useCallback((category: Category) => {\n    navigation.navigate(\"CategoryDetail\", {\n      category: category.id,\n      title: category.title,\n    });\n  }, [navigation]);\n\n  return (\n    <ThemedView style={styles.container}>\n      <ScrollView\n        style={styles.scrollView}\n        contentContainerStyle={[\n          styles.scrollContent,\n          {\n            paddingTop: headerHeight + Spacing.xl,\n            paddingBottom: insets.bottom + Spacing.xl,\n          },\n        ]}\n        scrollIndicatorInsets={{ bottom: insets.bottom }}\n        showsVerticalScrollIndicator={false}\n      >\n        <View style={styles.grid}>\n          {CATEGORIES.map((category) => (\n            <CategoryTile\n              key={category.id}\n              title={category.title}\n              icon={category.icon}\n              onPress={() => handleCategoryPress(category)}\n            />\n          ))}\n        </View>\n      </ScrollView>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollContent: {\n    paddingHorizontal: Spacing.lg,\n  },\n  grid: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    gap: Spacing.md,\n  },\n});\n","path":null,"size_bytes":2108,"size_tokens":null},"client/screens/tools/PainJournalScreen.tsx":{"content":"import React, { useState, useEffect, useCallback } from \"react\";\nimport { View, StyleSheet, FlatList, Pressable, TextInput, Modal } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Button } from \"@/components/Button\";\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport { storage, PainEntry, generateId, formatDate, formatTime } from \"@/lib/storage\";\n\nconst PAIN_LOCATIONS = [\n  \"Head\", \"Neck\", \"Shoulders\", \"Upper Back\", \"Lower Back\",\n  \"Arms\", \"Hands\", \"Chest\", \"Abdomen\", \"Hips\", \"Legs\", \"Feet\", \"Other\"\n];\n\nexport default function PainJournalScreen() {\n  const insets = useSafeAreaInsets();\n  const { theme } = useTheme();\n  const [entries, setEntries] = useState<PainEntry[]>([]);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [painLevel, setPainLevel] = useState(5);\n  const [selectedLocation, setSelectedLocation] = useState(\"Lower Back\");\n  const [description, setDescription] = useState(\"\");\n\n  const loadEntries = useCallback(async () => {\n    const data = await storage.pain.getAll();\n    setEntries(data || []);\n  }, []);\n\n  useEffect(() => {\n    loadEntries();\n  }, [loadEntries]);\n\n  const handleSave = async () => {\n    const entry: PainEntry = {\n      id: generateId(),\n      level: painLevel,\n      location: selectedLocation,\n      description: description || undefined,\n      timestamp: new Date().toISOString(),\n    };\n    await storage.pain.add(entry);\n    await loadEntries();\n    setModalVisible(false);\n    resetForm();\n  };\n\n  const resetForm = () => {\n    setPainLevel(5);\n    setSelectedLocation(\"Lower Back\");\n    setDescription(\"\");\n  };\n\n  const handleDelete = async (id: string) => {\n    await storage.pain.delete(id);\n    await loadEntries();\n  };\n\n  const getPainColor = (level: number) => {\n    if (level <= 3) return theme.success;\n    if (level <= 6) return theme.warning;\n    return theme.error;\n  };\n\n  const renderEntry = ({ item }: { item: PainEntry }) => {\n    const date = new Date(item.timestamp);\n    return (\n      <View style={[styles.entryCard, { backgroundColor: theme.backgroundDefault }]}>\n        <View style={styles.entryContent}>\n          <View style={styles.painIndicator}>\n            <View \n              style={[\n                styles.painBadge, \n                { backgroundColor: getPainColor(item.level) }\n              ]}\n            >\n              <ThemedText type=\"h4\" style={{ color: \"#FFFFFF\" }}>\n                {item.level}\n              </ThemedText>\n            </View>\n            <View style={styles.painDetails}>\n              <ThemedText type=\"h4\">{item.location}</ThemedText>\n              <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                {formatDate(date)}\n              </ThemedText>\n            </View>\n          </View>\n          {item.description ? (\n            <ThemedText type=\"body\" style={[styles.description, { color: theme.textSecondary }]}>\n              {item.description}\n            </ThemedText>\n          ) : null}\n        </View>\n        <Pressable\n          onPress={() => handleDelete(item.id)}\n          style={[styles.deleteButton, { backgroundColor: theme.error + \"20\" }]}\n          accessible\n          accessibilityLabel={`Delete pain entry for ${item.location}`}\n          accessibilityRole=\"button\"\n        >\n          <Feather name=\"trash-2\" size={20} color={theme.error} />\n        </Pressable>\n      </View>\n    );\n  };\n\n  return (\n    <ThemedView style={styles.container}>\n      <FlatList\n        data={entries}\n        renderItem={renderEntry}\n        keyExtractor={(item) => item.id}\n        contentContainerStyle={[\n          styles.listContent,\n          { paddingBottom: insets.bottom + 100 },\n        ]}\n        ListEmptyComponent={\n          <View style={styles.emptyContainer}>\n            <ThemedText type=\"body\" style={{ textAlign: \"center\" }}>\n              No pain entries recorded.{\"\\n\"}Tap below to log pain levels.\n            </ThemedText>\n          </View>\n        }\n      />\n\n      <View style={[styles.fabContainer, { bottom: insets.bottom + Spacing.xl }]}>\n        <Pressable\n          onPress={() => setModalVisible(true)}\n          style={[styles.fab, { backgroundColor: theme.primary }]}\n          accessible\n          accessibilityLabel=\"Log pain entry\"\n          accessibilityRole=\"button\"\n        >\n          <ThemedText type=\"h3\" style={{ color: \"#FFFFFF\" }}>+</ThemedText>\n        </Pressable>\n      </View>\n\n      <Modal\n        visible={modalVisible}\n        animationType=\"slide\"\n        presentationStyle=\"pageSheet\"\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <View style={[styles.modalContainer, { backgroundColor: theme.backgroundRoot }]}>\n          <View style={styles.modalHeader}>\n            <ThemedText type=\"h3\">Log Pain</ThemedText>\n            <Pressable onPress={() => setModalVisible(false)}>\n              <ThemedText type=\"body\" style={{ color: theme.primary }}>Cancel</ThemedText>\n            </Pressable>\n          </View>\n\n          <KeyboardAwareScrollViewCompat\n            style={styles.modalScroll}\n            contentContainerStyle={styles.modalScrollContent}\n          >\n            <View style={styles.section}>\n              <ThemedText type=\"h4\" style={styles.sectionLabel}>\n                Pain Level: {painLevel}/10\n              </ThemedText>\n              <View style={styles.painScale}>\n                {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((level) => (\n                  <Pressable\n                    key={level}\n                    onPress={() => setPainLevel(level)}\n                    style={[\n                      styles.painButton,\n                      { \n                        backgroundColor: painLevel === level ? getPainColor(level) : theme.backgroundDefault,\n                      },\n                    ]}\n                    accessible\n                    accessibilityLabel={`Pain level ${level}`}\n                    accessibilityState={{ selected: painLevel === level }}\n                  >\n                    <ThemedText\n                      type=\"body\"\n                      style={{ color: painLevel === level ? \"#FFFFFF\" : theme.text }}\n                    >\n                      {level}\n                    </ThemedText>\n                  </Pressable>\n                ))}\n              </View>\n            </View>\n\n            <View style={styles.section}>\n              <ThemedText type=\"h4\" style={styles.sectionLabel}>Location</ThemedText>\n              <View style={styles.locationGrid}>\n                {PAIN_LOCATIONS.map((location) => (\n                  <Pressable\n                    key={location}\n                    onPress={() => setSelectedLocation(location)}\n                    style={[\n                      styles.locationButton,\n                      { \n                        backgroundColor: selectedLocation === location ? theme.primary : theme.backgroundDefault,\n                      },\n                    ]}\n                    accessible\n                    accessibilityLabel={location}\n                    accessibilityState={{ selected: selectedLocation === location }}\n                  >\n                    <ThemedText\n                      type=\"body\"\n                      style={{ color: selectedLocation === location ? \"#FFFFFF\" : theme.text }}\n                    >\n                      {location}\n                    </ThemedText>\n                  </Pressable>\n                ))}\n              </View>\n            </View>\n\n            <View style={styles.section}>\n              <ThemedText type=\"h4\" style={styles.sectionLabel}>Description (optional)</ThemedText>\n              <TextInput\n                value={description}\n                onChangeText={setDescription}\n                placeholder=\"Describe the pain...\"\n                placeholderTextColor={theme.textSecondary}\n                multiline\n                style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                accessible\n                accessibilityLabel=\"Pain description\"\n              />\n            </View>\n\n            <Button onPress={handleSave} style={styles.saveButton}>\n              Save Entry\n            </Button>\n          </KeyboardAwareScrollViewCompat>\n        </View>\n      </Modal>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  listContent: {\n    paddingTop: Spacing.lg,\n    paddingHorizontal: Spacing.lg,\n    gap: Spacing.md,\n  },\n  entryCard: {\n    flexDirection: \"row\",\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.medium,\n    gap: Spacing.md,\n    alignItems: \"center\",\n  },\n  entryContent: {\n    flex: 1,\n    gap: Spacing.sm,\n  },\n  painIndicator: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.md,\n  },\n  painBadge: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  painDetails: {\n    flex: 1,\n    gap: Spacing.xs,\n  },\n  description: {\n    marginTop: Spacing.xs,\n  },\n  deleteButton: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  emptyContainer: {\n    paddingTop: Spacing.xxl,\n    alignItems: \"center\",\n  },\n  fabContainer: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    alignItems: \"center\",\n  },\n  fab: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  modalContainer: {\n    flex: 1,\n    paddingTop: Spacing.xxl,\n  },\n  modalHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.xl,\n    marginBottom: Spacing.lg,\n  },\n  modalScroll: {\n    flex: 1,\n  },\n  modalScrollContent: {\n    paddingHorizontal: Spacing.xl,\n    paddingBottom: Spacing.xxl,\n  },\n  section: {\n    marginBottom: Spacing.xl,\n  },\n  sectionLabel: {\n    marginBottom: Spacing.md,\n  },\n  painScale: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: Spacing.sm,\n  },\n  painButton: {\n    width: 48,\n    height: 48,\n    borderRadius: BorderRadius.medium,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  locationGrid: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: Spacing.sm,\n  },\n  locationButton: {\n    paddingVertical: Spacing.sm,\n    paddingHorizontal: Spacing.md,\n    borderRadius: BorderRadius.medium,\n  },\n  input: {\n    minHeight: 100,\n    borderRadius: BorderRadius.medium,\n    paddingHorizontal: Spacing.md,\n    paddingTop: Spacing.md,\n    fontSize: 18,\n    textAlignVertical: \"top\",\n  },\n  saveButton: {\n    marginTop: Spacing.lg,\n  },\n});\n","path":null,"size_bytes":10954,"size_tokens":null},"client/screens/tools/MedicationTrackerScreen.tsx":{"content":"import React, { useState, useEffect, useCallback } from \"react\";\nimport { View, StyleSheet, FlatList, Pressable, TextInput, Modal } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Button } from \"@/components/Button\";\nimport { KeyboardAwareScrollViewCompat } from \"@/components/KeyboardAwareScrollViewCompat\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport { storage, Medication, MedicationLog, generateId, formatDate } from \"@/lib/storage\";\n\nexport default function MedicationTrackerScreen() {\n  const insets = useSafeAreaInsets();\n  const { theme } = useTheme();\n  const [medications, setMedications] = useState<Medication[]>([]);\n  const [todayLogs, setTodayLogs] = useState<MedicationLog[]>([]);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [dosage, setDosage] = useState(\"\");\n  const [frequency, setFrequency] = useState(\"Daily\");\n  const [times, setTimes] = useState(\"8:00 AM\");\n\n  const today = formatDate(new Date());\n\n  const loadData = useCallback(async () => {\n    const meds = await storage.medications.getAll();\n    setMedications(meds || []);\n    const logs = await storage.medicationLogs.getByDate(today);\n    setTodayLogs(logs || []);\n  }, [today]);\n\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  const handleSave = async () => {\n    const med: Medication = {\n      id: generateId(),\n      name,\n      dosage,\n      frequency,\n      times: times.split(\",\").map((t) => t.trim()),\n    };\n    await storage.medications.add(med);\n    await loadData();\n    setModalVisible(false);\n    resetForm();\n  };\n\n  const resetForm = () => {\n    setName(\"\");\n    setDosage(\"\");\n    setFrequency(\"Daily\");\n    setTimes(\"8:00 AM\");\n  };\n\n  const handleDelete = async (id: string) => {\n    await storage.medications.delete(id);\n    await loadData();\n  };\n\n  const handleToggleTaken = async (medication: Medication, scheduledTime: string) => {\n    const existingLog = todayLogs.find(\n      (l) => l.medicationId === medication.id && l.scheduledTime === scheduledTime\n    );\n    \n    const log: MedicationLog = {\n      id: existingLog?.id || generateId(),\n      medicationId: medication.id,\n      taken: !existingLog?.taken,\n      scheduledTime,\n      actualTime: !existingLog?.taken ? new Date().toISOString() : undefined,\n      date: today,\n    };\n    \n    await storage.medicationLogs.log(log);\n    await loadData();\n  };\n\n  const isTaken = (medicationId: string, time: string) => {\n    return todayLogs.some(\n      (l) => l.medicationId === medicationId && l.scheduledTime === time && l.taken\n    );\n  };\n\n  const renderMedication = ({ item }: { item: Medication }) => (\n    <View style={[styles.medCard, { backgroundColor: theme.backgroundDefault }]}>\n      <View style={styles.medContent}>\n        <View style={styles.medHeader}>\n          <View style={styles.medInfo}>\n            <ThemedText type=\"h4\">{item.name}</ThemedText>\n            <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n              {item.dosage} - {item.frequency}\n            </ThemedText>\n          </View>\n          <Pressable\n            onPress={() => handleDelete(item.id)}\n            style={[styles.deleteButton, { backgroundColor: theme.error + \"20\" }]}\n            accessible\n            accessibilityLabel={`Delete ${item.name}`}\n            accessibilityRole=\"button\"\n          >\n            <Feather name=\"trash-2\" size={18} color={theme.error} />\n          </Pressable>\n        </View>\n        \n        <View style={styles.timesContainer}>\n          {item.times.map((time, index) => {\n            const taken = isTaken(item.id, time);\n            return (\n              <Pressable\n                key={index}\n                onPress={() => handleToggleTaken(item, time)}\n                style={[\n                  styles.timeButton,\n                  { backgroundColor: taken ? theme.success : theme.backgroundSecondary },\n                ]}\n                accessible\n                accessibilityLabel={`${time}, ${taken ? \"taken\" : \"not taken\"}`}\n                accessibilityRole=\"checkbox\"\n                accessibilityState={{ checked: taken }}\n              >\n                <Feather \n                  name={taken ? \"check-circle\" : \"circle\"} \n                  size={20} \n                  color={taken ? \"#FFFFFF\" : theme.text} \n                />\n                <ThemedText\n                  type=\"body\"\n                  style={{ color: taken ? \"#FFFFFF\" : theme.text }}\n                >\n                  {time}\n                </ThemedText>\n              </Pressable>\n            );\n          })}\n        </View>\n      </View>\n    </View>\n  );\n\n  return (\n    <ThemedView style={styles.container}>\n      <View style={styles.header}>\n        <ThemedText type=\"h4\">Today: {today}</ThemedText>\n      </View>\n\n      <FlatList\n        data={medications}\n        renderItem={renderMedication}\n        keyExtractor={(item) => item.id}\n        contentContainerStyle={[\n          styles.listContent,\n          { paddingBottom: insets.bottom + 100 },\n        ]}\n        ListEmptyComponent={\n          <View style={styles.emptyContainer}>\n            <ThemedText type=\"body\" style={{ textAlign: \"center\" }}>\n              No medications added.{\"\\n\"}Tap below to add your medications.\n            </ThemedText>\n          </View>\n        }\n      />\n\n      <View style={[styles.fabContainer, { bottom: insets.bottom + Spacing.xl }]}>\n        <Pressable\n          onPress={() => setModalVisible(true)}\n          style={[styles.fab, { backgroundColor: theme.primary }]}\n          accessible\n          accessibilityLabel=\"Add medication\"\n          accessibilityRole=\"button\"\n        >\n          <ThemedText type=\"h3\" style={{ color: \"#FFFFFF\" }}>+</ThemedText>\n        </Pressable>\n      </View>\n\n      <Modal\n        visible={modalVisible}\n        animationType=\"slide\"\n        presentationStyle=\"pageSheet\"\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <View style={[styles.modalContainer, { backgroundColor: theme.backgroundRoot }]}>\n          <View style={styles.modalHeader}>\n            <ThemedText type=\"h3\">Add Medication</ThemedText>\n            <Pressable onPress={() => setModalVisible(false)}>\n              <ThemedText type=\"body\" style={{ color: theme.primary }}>Cancel</ThemedText>\n            </Pressable>\n          </View>\n\n          <KeyboardAwareScrollViewCompat\n            style={styles.modalScroll}\n            contentContainerStyle={styles.modalScrollContent}\n          >\n            <View style={styles.formGroup}>\n              <ThemedText type=\"body\" style={styles.label}>Medication Name</ThemedText>\n              <TextInput\n                value={name}\n                onChangeText={setName}\n                placeholder=\"e.g., Baclofen\"\n                placeholderTextColor={theme.textSecondary}\n                style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                accessible\n                accessibilityLabel=\"Medication name\"\n              />\n            </View>\n\n            <View style={styles.formGroup}>\n              <ThemedText type=\"body\" style={styles.label}>Dosage</ThemedText>\n              <TextInput\n                value={dosage}\n                onChangeText={setDosage}\n                placeholder=\"e.g., 10mg\"\n                placeholderTextColor={theme.textSecondary}\n                style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                accessible\n                accessibilityLabel=\"Dosage\"\n              />\n            </View>\n\n            <View style={styles.formGroup}>\n              <ThemedText type=\"body\" style={styles.label}>Frequency</ThemedText>\n              <View style={styles.frequencyOptions}>\n                {[\"Daily\", \"Twice Daily\", \"As Needed\"].map((freq) => (\n                  <Pressable\n                    key={freq}\n                    onPress={() => setFrequency(freq)}\n                    style={[\n                      styles.freqButton,\n                      { backgroundColor: frequency === freq ? theme.primary : theme.backgroundDefault },\n                    ]}\n                    accessible\n                    accessibilityLabel={freq}\n                    accessibilityState={{ selected: frequency === freq }}\n                  >\n                    <ThemedText\n                      type=\"body\"\n                      style={{ color: frequency === freq ? \"#FFFFFF\" : theme.text }}\n                    >\n                      {freq}\n                    </ThemedText>\n                  </Pressable>\n                ))}\n              </View>\n            </View>\n\n            <View style={styles.formGroup}>\n              <ThemedText type=\"body\" style={styles.label}>Times (comma-separated)</ThemedText>\n              <TextInput\n                value={times}\n                onChangeText={setTimes}\n                placeholder=\"e.g., 8:00 AM, 8:00 PM\"\n                placeholderTextColor={theme.textSecondary}\n                style={[styles.input, { backgroundColor: theme.backgroundDefault, color: theme.text }]}\n                accessible\n                accessibilityLabel=\"Times to take medication\"\n              />\n            </View>\n\n            <Button onPress={handleSave} style={styles.saveButton}>\n              Add Medication\n            </Button>\n          </KeyboardAwareScrollViewCompat>\n        </View>\n      </Modal>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  header: {\n    paddingHorizontal: Spacing.lg,\n    paddingVertical: Spacing.md,\n  },\n  listContent: {\n    paddingHorizontal: Spacing.lg,\n    gap: Spacing.md,\n  },\n  medCard: {\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.medium,\n  },\n  medContent: {\n    gap: Spacing.md,\n  },\n  medHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"flex-start\",\n  },\n  medInfo: {\n    flex: 1,\n    gap: Spacing.xs,\n  },\n  deleteButton: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  timesContainer: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: Spacing.sm,\n  },\n  timeButton: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.sm,\n    paddingVertical: Spacing.sm,\n    paddingHorizontal: Spacing.md,\n    borderRadius: BorderRadius.medium,\n    minHeight: 48,\n  },\n  emptyContainer: {\n    paddingTop: Spacing.xxl,\n    alignItems: \"center\",\n  },\n  fabContainer: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    alignItems: \"center\",\n  },\n  fab: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  modalContainer: {\n    flex: 1,\n    paddingTop: Spacing.xxl,\n  },\n  modalHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.xl,\n    marginBottom: Spacing.lg,\n  },\n  modalScroll: {\n    flex: 1,\n  },\n  modalScrollContent: {\n    paddingHorizontal: Spacing.xl,\n    paddingBottom: Spacing.xxl,\n  },\n  formGroup: {\n    marginBottom: Spacing.lg,\n  },\n  label: {\n    marginBottom: Spacing.sm,\n  },\n  input: {\n    height: 56,\n    borderRadius: BorderRadius.medium,\n    paddingHorizontal: Spacing.md,\n    fontSize: 18,\n  },\n  frequencyOptions: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: Spacing.sm,\n  },\n  freqButton: {\n    paddingVertical: Spacing.sm,\n    paddingHorizontal: Spacing.md,\n    borderRadius: BorderRadius.medium,\n    minHeight: 48,\n  },\n  saveButton: {\n    marginTop: Spacing.lg,\n  },\n});\n","path":null,"size_bytes":11869,"size_tokens":null},"client/components/HeaderTitle.tsx":{"content":"import React from \"react\";\nimport { View, StyleSheet, Image } from \"react-native\";\n\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { Spacing } from \"@/constants/theme\";\n\ninterface HeaderTitleProps {\n  title: string;\n}\n\nexport function HeaderTitle({ title }: HeaderTitleProps) {\n  return (\n    <View style={styles.container}>\n      <Image\n        source={require(\"../../assets/images/icon.png\")}\n        style={styles.icon}\n        resizeMode=\"contain\"\n      />\n      <ThemedText style={styles.title}>{title}</ThemedText>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n  },\n  icon: {\n    width: 28,\n    height: 28,\n    marginRight: Spacing.sm,\n    borderRadius: 6,\n  },\n  title: {\n    fontSize: 17,\n    fontWeight: \"600\",\n  },\n});\n","path":null,"size_bytes":853,"size_tokens":null},"client/constants/hooks/useTheme.ts":{"content":"import { Colors } from \"@/constants/theme\";\nimport { useColorScheme } from \"@/hooks/useColorScheme\";\n\nexport function useTheme() {\n  const colorScheme = useColorScheme();\n  const isDark = colorScheme === \"dark\";\n  const theme = Colors[colorScheme ?? \"light\"];\n\n  return {\n    theme,\n    isDark,\n  };\n}\n","path":null,"size_bytes":302,"size_tokens":null},"client/components/ErrorFallback.tsx":{"content":"import React, { useState } from \"react\";\nimport { reloadAppAsync } from \"expo\";\nimport {\n  StyleSheet,\n  View,\n  Pressable,\n  ScrollView,\n  Text,\n  Modal,\n} from \"react-native\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius, Fonts } from \"@/constants/theme\";\n\nexport type ErrorFallbackProps = {\n  error: Error;\n  resetError: () => void;\n};\n\nexport function ErrorFallback({ error, resetError }: ErrorFallbackProps) {\n  const { theme } = useTheme();\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const handleRestart = async () => {\n    try {\n      await reloadAppAsync();\n    } catch (restartError) {\n      console.error(\"Failed to restart app:\", restartError);\n      resetError();\n    }\n  };\n\n  const formatErrorDetails = (): string => {\n    let details = `Error: ${error.message}\\n\\n`;\n    if (error.stack) {\n      details += `Stack Trace:\\n${error.stack}`;\n    }\n    return details;\n  };\n\n  return (\n    <ThemedView style={styles.container}>\n      {__DEV__ ? (\n        <Pressable\n          onPress={() => setIsModalVisible(true)}\n          style={({ pressed }) => [\n            styles.topButton,\n            {\n              backgroundColor: theme.backgroundDefault,\n              opacity: pressed ? 0.8 : 1,\n            },\n          ]}\n        >\n          <Feather name=\"alert-circle\" size={20} color={theme.text} />\n        </Pressable>\n      ) : null}\n\n      <View style={styles.content}>\n        <ThemedText type=\"h1\" style={styles.title}>\n          Spinal Hub needs a restart\n        </ThemedText>\n\n        <ThemedText type=\"body\" style={styles.message}>\n          Something unexpected happened. Tap below to get back on track.\n        </ThemedText>\n\n        <Pressable\n          onPress={handleRestart}\n          style={({ pressed }) => [\n            styles.button,\n            {\n              backgroundColor: theme.primary,\n              opacity: pressed ? 0.9 : 1,\n              transform: [{ scale: pressed ? 0.98 : 1 }],\n            },\n          ]}\n          accessible\n          accessibilityRole=\"button\"\n          accessibilityLabel=\"Restart Spinal Hub\"\n        >\n          <ThemedText\n            type=\"body\"\n            style={[styles.buttonText, { color: theme.buttonText }]}\n          >\n            Restart Spinal Hub\n          </ThemedText>\n        </Pressable>\n      </View>\n\n      {__DEV__ ? (\n        <Modal\n          visible={isModalVisible}\n          animationType=\"slide\"\n          transparent={true}\n          onRequestClose={() => setIsModalVisible(false)}\n        >\n          <View style={styles.modalOverlay}>\n            <ThemedView style={styles.modalContainer}>\n              <View style={styles.modalHeader}>\n                <ThemedText type=\"h2\" style={styles.modalTitle}>\n                  Error Details\n                </ThemedText>\n                <Pressable\n                  onPress={() => setIsModalVisible(false)}\n                  style={({ pressed }) => [\n                    styles.closeButton,\n                    { opacity: pressed ? 0.6 : 1 },\n                  ]}\n                >\n                  <Feather name=\"x\" size={24} color={theme.text} />\n                </Pressable>\n              </View>\n\n              <ScrollView\n                style={styles.modalScrollView}\n                contentContainerStyle={styles.modalScrollContent}\n                showsVerticalScrollIndicator\n              >\n                <View\n                  style={[\n                    styles.errorContainer,\n                    { backgroundColor: theme.backgroundDefault },\n                  ]}\n                >\n                  <Text\n                    style={[\n                      styles.errorText,\n                      {\n                        color: theme.text,\n                        fontFamily: Fonts?.mono || \"monospace\",\n                      },\n                    ]}\n                    selectable\n                  >\n                    {formatErrorDetails()}\n                  </Text>\n                </View>\n              </ScrollView>\n            </ThemedView>\n          </View>\n        </Modal>\n      ) : null}\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: \"100%\",\n    height: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: Spacing.xxl,\n  },\n  content: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    gap: Spacing.lg,\n    width: \"100%\",\n    maxWidth: 600,\n  },\n  title: {\n    textAlign: \"center\",\n  },\n  message: {\n    textAlign: \"center\",\n    opacity: 0.7,\n  },\n  topButton: {\n    position: \"absolute\",\n    top: Spacing.xxl + Spacing.lg,\n    right: Spacing.lg,\n    width: 44,\n    height: 44,\n    borderRadius: BorderRadius.medium,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    zIndex: 10,\n  },\n  button: {\n    paddingVertical: Spacing.lg,\n    borderRadius: BorderRadius.medium,\n    paddingHorizontal: Spacing.xxl,\n    minWidth: 200,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  buttonText: {\n    fontWeight: \"600\",\n    textAlign: \"center\",\n    fontSize: 16,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n    justifyContent: \"flex-end\",\n  },\n  modalContainer: {\n    width: \"100%\",\n    height: \"90%\",\n    borderTopLeftRadius: BorderRadius.large,\n    borderTopRightRadius: BorderRadius.large,\n  },\n  modalHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingHorizontal: Spacing.lg,\n    paddingTop: Spacing.lg,\n    paddingBottom: Spacing.md,\n    borderBottomWidth: 1,\n    borderBottomColor: \"rgba(128, 128, 128, 0.2)\",\n  },\n  modalTitle: {\n    fontWeight: \"600\",\n  },\n  closeButton: {\n    padding: Spacing.xs,\n  },\n  modalScrollView: {\n    flex: 1,\n  },\n  modalScrollContent: {\n    padding: Spacing.lg,\n  },\n  errorContainer: {\n    width: \"100%\",\n    borderRadius: BorderRadius.medium,\n    overflow: \"hidden\",\n    padding: Spacing.lg,\n  },\n  errorText: {\n    fontSize: 12,\n  },\n});\n","path":null,"size_bytes":6278,"size_tokens":null},"client/screens/CategoryDetailScreen.tsx":{"content":"import React from \"react\";\nimport { View, StyleSheet, FlatList, Pressable } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { RouteProp, useRoute, useNavigation } from \"@react-navigation/native\";\nimport { NativeStackNavigationProp } from \"@react-navigation/native-stack\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { CATEGORIES } from \"@/config/catalog\";\n\n\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport { MainStackParamList } from \"@/types/navigation\";\n\ntype CategoryDetailRouteProp = RouteProp<MainStackParamList, \"CategoryDetail\">;\n\ntype Tool = {\n  id: string;\n  name: string;\n  description: string;\n  icon: keyof typeof Feather.glyphMap;\n  screen?: keyof MainStackParamList;\n  comingSoon?: boolean;\n};\n\nconst getToolsForCategory = (categoryId: string): Tool[] => {\n  const toolsByCategory: Record<string, Tool[]> = {\n    \"daily-routine\": [\n      { id: \"1\", name: \"Morning Routine\", description: \"Track your morning care tasks\", icon: \"sunrise\", screen: \"MorningRoutine\" },\n      { id: \"2\", name: \"Evening Routine\", description: \"Complete your evening checklist\", icon: \"moon\", screen: \"EveningRoutine\" },\n      { id: \"3\", name: \"Hydration Tracker\", description: \"Log water intake throughout the day\", icon: \"droplet\", screen: \"HydrationTracker\" },\n    ],\n    \"health-tracking\": [\n      { id: \"1\", name: \"Vital Signs Log\", description: \"Record blood pressure, heart rate, and more\", icon: \"heart\", screen: \"VitalsLog\" },\n      { id: \"2\", name: \"Pain Journal\", description: \"Track pain levels and locations\", icon: \"activity\", screen: \"PainJournal\" },\n      { id: \"3\", name: \"Medications\", description: \"Manage and track your medications\", icon: \"clipboard\", screen: \"MedicationTracker\" },\n    ],\n    \"care-support\": [\n      { id: \"1\", name: \"Emergency Contacts\", description: \"Quick access to important contacts\", icon: \"phone\", screen: \"EmergencyContacts\" },\n      { id: \"2\", name: \"Caregiver Notes\", description: \"Share notes with your care team\", icon: \"file-text\", comingSoon: true },\n      { id: \"3\", name: \"Care Instructions\", description: \"Detailed care protocols\", icon: \"book\", comingSoon: true },\n    ],\n    \"appointments\": [\n      { id: \"1\", name: \"Schedule\", description: \"Manage upcoming appointments\", icon: \"calendar\", screen: \"AppointmentScheduler\" },\n      { id: \"2\", name: \"Therapy Sessions\", description: \"PT and OT session tracking\", icon: \"activity\", comingSoon: true },\n      { id: \"3\", name: \"Equipment Maintenance\", description: \"Service and maintenance dates\", icon: \"tool\", comingSoon: true },\n    ],\n    \"life-management\": [\n      { id: \"1\", name: \"Notes & Journal\", description: \"Personal thoughts and reflections\", icon: \"edit-3\", comingSoon: true },\n      { id: \"2\", name: \"Goals & Milestones\", description: \"Set and track personal goals\", icon: \"target\", comingSoon: true },\n      { id: \"3\", name: \"Financial Tracker\", description: \"Healthcare expenses and insurance\", icon: \"dollar-sign\", comingSoon: true },\n    ],\n    \"custom-tools\": [\n      { id: \"1\", name: \"Create New Tool\", description: \"Build a custom tracking tool\", icon: \"plus-circle\", comingSoon: true },\n      { id: \"2\", name: \"Import Template\", description: \"Use community-shared templates\", icon: \"download\", comingSoon: true },\n    ],\n  };\n\n  return toolsByCategory[categoryId] || [];\n};\n\nexport default function CategoryDetailScreen() {\n  const route = useRoute<CategoryDetailRouteProp>();\n  const navigation = useNavigation<NativeStackNavigationProp<MainStackParamList>>();\n  const insets = useSafeAreaInsets();\n  const { theme } = useTheme();\n  const { category } = route.params;\n\n  const tools = getToolsForCategory(category);\n\n  const handleToolPress = (tool: Tool) => {\n    if (tool.screen) {\n      navigation.navigate(tool.screen);\n    }\n  };\n\n  const renderTool = ({ item }: { item: Tool }) => (\n    <Pressable\n      onPress={() => handleToolPress(item)}\n      disabled={item.comingSoon}\n      style={[\n        styles.toolCard,\n        { \n          backgroundColor: theme.backgroundDefault,\n          opacity: item.comingSoon ? 0.6 : 1,\n        },\n      ]}\n      accessible\n      accessibilityRole=\"button\"\n      accessibilityLabel={`${item.name}. ${item.description}${item.comingSoon ? \". Coming soon.\" : \"\"}`}\n    >\n      <View style={[styles.iconContainer, { backgroundColor: theme.primary + \"20\" }]}>\n        <Feather name={item.icon} size={28} color={theme.primary} />\n      </View>\n      <View style={styles.toolContent}>\n        <View style={styles.toolHeader}>\n          <ThemedText type=\"h4\" style={styles.toolName}>\n            {item.name}\n          </ThemedText>\n          {item.comingSoon ? (\n            <View style={[styles.comingSoonBadge, { backgroundColor: theme.backgroundSecondary }]}>\n              <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n                Soon\n              </ThemedText>\n            </View>\n          ) : (\n            <Feather name=\"chevron-right\" size={20} color={theme.textSecondary} />\n          )}\n        </View>\n        <ThemedText\n          type=\"body\"\n          style={[styles.toolDescription, { color: theme.textSecondary }]}\n        >\n          {item.description}\n        </ThemedText>\n      </View>\n    </Pressable>\n  );\n\n  return (\n    <ThemedView style={styles.container}>\n      <FlatList\n        data={tools}\n        renderItem={renderTool}\n        keyExtractor={(item) => item.id}\n        contentContainerStyle={[\n          styles.listContent,\n          { paddingBottom: insets.bottom + Spacing.xl },\n        ]}\n        scrollIndicatorInsets={{ bottom: insets.bottom }}\n        showsVerticalScrollIndicator={false}\n        ListEmptyComponent={\n          <View style={styles.emptyContainer}>\n            <ThemedText type=\"body\">No tools available yet.</ThemedText>\n          </View>\n        }\n      />\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  listContent: {\n    paddingTop: Spacing.lg,\n    paddingHorizontal: Spacing.lg,\n    gap: Spacing.md,\n  },\n  toolCard: {\n    flexDirection: \"row\",\n    padding: Spacing.lg,\n    borderRadius: BorderRadius.medium,\n    gap: Spacing.md,\n    minHeight: 88,\n    alignItems: \"center\",\n  },\n  iconContainer: {\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  toolContent: {\n    flex: 1,\n    gap: Spacing.xs,\n  },\n  toolHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  toolName: {\n    flex: 1,\n  },\n  comingSoonBadge: {\n    paddingVertical: 2,\n    paddingHorizontal: Spacing.sm,\n    borderRadius: BorderRadius.small,\n  },\n  toolDescription: {\n    opacity: 0.8,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingTop: Spacing.xxl,\n  },\n});\n","path":null,"size_bytes":7017,"size_tokens":null},"client/screens/tools/HydrationTrackerScreen.tsx":{"content":"import React, { useState, useEffect, useCallback } from \"react\";\nimport { View, StyleSheet, FlatList, Pressable } from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport { ThemedView } from \"@/components/ThemedView\";\nimport { ThemedText } from \"@/components/ThemedText\";\nimport { useTheme } from \"@/hooks/useTheme\";\nimport { Spacing, BorderRadius } from \"@/constants/theme\";\nimport { storage, HydrationLog, generateId, formatDate, formatTime } from \"@/lib/storage\";\n\nconst QUICK_ADD_AMOUNTS = [\n  { label: \"8 oz\", amount: 8 },\n  { label: \"12 oz\", amount: 12 },\n  { label: \"16 oz\", amount: 16 },\n  { label: \"24 oz\", amount: 24 },\n];\n\nexport default function HydrationTrackerScreen() {\n  const insets = useSafeAreaInsets();\n  const { theme } = useTheme();\n  const [todayLogs, setTodayLogs] = useState<HydrationLog[]>([]);\n  const [dailyGoal, setDailyGoal] = useState(64);\n\n  const today = formatDate(new Date());\n\n  const loadData = useCallback(async () => {\n    const logs = await storage.hydration.getByDate(today);\n    setTodayLogs(logs || []);\n    const prefs = await storage.preferences.get();\n    setDailyGoal(prefs.dailyWaterGoal);\n  }, [today]);\n\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  const handleAddWater = async (amount: number) => {\n    const log: HydrationLog = {\n      id: generateId(),\n      amount,\n      unit: \"oz\",\n      timestamp: new Date().toISOString(),\n      date: today,\n    };\n    await storage.hydration.add(log);\n    await loadData();\n  };\n\n  const handleDelete = async (id: string) => {\n    await storage.hydration.delete(id);\n    await loadData();\n  };\n\n  const totalToday = todayLogs.reduce((sum, log) => sum + log.amount, 0);\n  const progress = Math.min((totalToday / dailyGoal) * 100, 100);\n\n  const renderLog = ({ item }: { item: HydrationLog }) => {\n    const date = new Date(item.timestamp);\n    return (\n      <View style={[styles.logCard, { backgroundColor: theme.backgroundDefault }]}>\n        <View style={styles.logContent}>\n          <Feather name=\"droplet\" size={20} color={theme.primary} />\n          <ThemedText type=\"body\">{item.amount} oz</ThemedText>\n        </View>\n        <View style={styles.logRight}>\n          <ThemedText type=\"small\" style={{ color: theme.textSecondary }}>\n            {formatTime(date)}\n          </ThemedText>\n          <Pressable\n            onPress={() => handleDelete(item.id)}\n            style={[styles.deleteButton, { backgroundColor: theme.error + \"20\" }]}\n            accessible\n            accessibilityLabel={`Delete ${item.amount} ounce entry`}\n            accessibilityRole=\"button\"\n          >\n            <Feather name=\"x\" size={16} color={theme.error} />\n          </Pressable>\n        </View>\n      </View>\n    );\n  };\n\n  return (\n    <ThemedView style={styles.container}>\n      <View style={styles.progressSection}>\n        <View style={styles.progressHeader}>\n          <ThemedText type=\"h3\">Today's Progress</ThemedText>\n          <ThemedText type=\"h4\" style={{ color: theme.primary }}>\n            {totalToday} / {dailyGoal} oz\n          </ThemedText>\n        </View>\n        \n        <View style={[styles.progressBar, { backgroundColor: theme.backgroundDefault }]}>\n          <View \n            style={[\n              styles.progressFill, \n              { \n                width: `${progress}%`,\n                backgroundColor: progress >= 100 ? theme.success : theme.primary,\n              }\n            ]} \n          />\n        </View>\n        \n        {progress >= 100 ? (\n          <ThemedText type=\"body\" style={{ color: theme.success, textAlign: \"center\" }}>\n            Great job! You've reached your goal!\n          </ThemedText>\n        ) : null}\n      </View>\n\n      <View style={styles.quickAddSection}>\n        <ThemedText type=\"h4\" style={styles.sectionLabel}>Quick Add</ThemedText>\n        <View style={styles.quickAddGrid}>\n          {QUICK_ADD_AMOUNTS.map((item) => (\n            <Pressable\n              key={item.amount}\n              onPress={() => handleAddWater(item.amount)}\n              style={[styles.quickAddButton, { backgroundColor: theme.primary }]}\n              accessible\n              accessibilityLabel={`Add ${item.label} of water`}\n              accessibilityRole=\"button\"\n            >\n              <Feather name=\"plus\" size={20} color=\"#FFFFFF\" />\n              <ThemedText type=\"body\" style={{ color: \"#FFFFFF\" }}>\n                {item.label}\n              </ThemedText>\n            </Pressable>\n          ))}\n        </View>\n      </View>\n\n      <View style={styles.historySection}>\n        <ThemedText type=\"h4\" style={styles.sectionLabel}>Today's Log</ThemedText>\n        <FlatList\n          data={todayLogs}\n          renderItem={renderLog}\n          keyExtractor={(item) => item.id}\n          contentContainerStyle={[\n            styles.listContent,\n            { paddingBottom: insets.bottom + Spacing.xl },\n          ]}\n          ListEmptyComponent={\n            <View style={styles.emptyContainer}>\n              <ThemedText type=\"body\" style={{ color: theme.textSecondary }}>\n                No water logged today. Stay hydrated!\n              </ThemedText>\n            </View>\n          }\n        />\n      </View>\n    </ThemedView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  progressSection: {\n    padding: Spacing.lg,\n    gap: Spacing.md,\n  },\n  progressHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  progressBar: {\n    height: 24,\n    borderRadius: 12,\n    overflow: \"hidden\",\n  },\n  progressFill: {\n    height: \"100%\",\n    borderRadius: 12,\n  },\n  quickAddSection: {\n    paddingHorizontal: Spacing.lg,\n    paddingBottom: Spacing.lg,\n  },\n  sectionLabel: {\n    marginBottom: Spacing.md,\n  },\n  quickAddGrid: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: Spacing.sm,\n  },\n  quickAddButton: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.sm,\n    paddingVertical: Spacing.md,\n    paddingHorizontal: Spacing.lg,\n    borderRadius: BorderRadius.medium,\n    minWidth: 100,\n    minHeight: 56,\n  },\n  historySection: {\n    flex: 1,\n    paddingHorizontal: Spacing.lg,\n  },\n  listContent: {\n    gap: Spacing.sm,\n  },\n  logCard: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    padding: Spacing.md,\n    borderRadius: BorderRadius.medium,\n  },\n  logContent: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.sm,\n  },\n  logRight: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    gap: Spacing.md,\n  },\n  deleteButton: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  emptyContainer: {\n    paddingTop: Spacing.xl,\n    alignItems: \"center\",\n  },\n});\n","path":null,"size_bytes":6860,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"client/components/ErrorBoundary.tsx":{"content":"import React, { Component, ComponentType, PropsWithChildren } from \"react\";\nimport { ErrorFallback, ErrorFallbackProps } from \"@/components/ErrorFallback\";\n\nexport type ErrorBoundaryProps = PropsWithChildren<{\n  FallbackComponent?: ComponentType<ErrorFallbackProps>;\n  onError?: (error: Error, stackTrace: string) => void;\n}>;\n\ntype ErrorBoundaryState = { error: Error | null };\n\n/**\n * This is a special case for for using the class components. Error boundaries must be class components because React only provides error boundary functionality through lifecycle methods (componentDidCatch and getDerivedStateFromError) which are not available in functional components.\n * https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary\n */\n\nexport class ErrorBoundary extends Component<\n  ErrorBoundaryProps,\n  ErrorBoundaryState\n> {\n  state: ErrorBoundaryState = { error: null };\n\n  static defaultProps: {\n    FallbackComponent: ComponentType<ErrorFallbackProps>;\n  } = {\n    FallbackComponent: ErrorFallback,\n  };\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return { error };\n  }\n\n  componentDidCatch(error: Error, info: { componentStack: string }): void {\n    if (typeof this.props.onError === \"function\") {\n      this.props.onError(error, info.componentStack);\n    }\n  }\n\n  resetError = (): void => {\n    this.setState({ error: null });\n  };\n\n  render() {\n    const { FallbackComponent } = this.props;\n\n    return this.state.error && FallbackComponent ? (\n      <FallbackComponent\n        error={this.state.error}\n        resetError={this.resetError}\n      />\n    ) : (\n      this.props.children\n    );\n  }\n}\n","path":null,"size_bytes":1674,"size_tokens":null}},"version":2}